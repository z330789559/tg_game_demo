window.__require=function t(e,n,i){function a(c,r){if(!n[c]){if(!e[c]){var s=c.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!r&&l)return l(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+c+"'")}c=s}var u=n[c]={exports:{}};e[c][0].call(u.exports,function(t){return a(e[c][1][t]||t)},u,u.exports,t,e,n,i)}return n[c].exports}for(var o="function"==typeof __require&&__require,c=0;c<i.length;c++)a(i[c]);return a}({AudioManager:[function(t,e,n){"use strict";cc._RF.push(e,"ec837HPHdhNmbkWqoAlSNAg","AudioManager");var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(a,o){function c(t){try{s(i.next(t))}catch(e){o(e)}}function r(t){try{s(i.throw(t))}catch(e){o(e)}}function s(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(c,r)}s((i=i.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,i,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function r(t){return function(e){return s([t,e])}}function s(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,i&&(a=2&o[0]?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,i=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=e.call(t,c)}catch(r){o=[6,r],i=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var o=t("./../Enum"),c=t("./DataManager"),r=t("./ResourceManager"),s=function(){function t(){this.audioSource=null}return t.getInstance=function(){return null===this._instance&&(this._instance=new this,this._instance.init()),this._instance},Object.defineProperty(t,"instance",{get:function(){return this.getInstance()},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.audioSource=new cc.AudioSource,this.audioSource.loop=!0,this.audioSource.volume=.3},t.prototype.playMusic=function(){return i(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return c.default.instance.isMusicOn?this.audioSource.clip?(this.audioSource.play(),[2]):[4,r.default.instance.getClip(o.ENUM_AUDIO_CLIP.BGM)]:[2];case 1:return t=e.sent(),this.audioSource.clip=t,this.audioSource.play(),[2]}})})},t.prototype.stopMusic=function(){this.audioSource.stop()},t.prototype.playSound=function(t,e){return void 0===e&&(e=!1),i(this,void 0,void 0,function(){var n;return a(this,function(i){switch(i.label){case 0:return c.default.instance.isSoundOn?[4,r.default.instance.getClip(t)]:[2];case 1:return n=i.sent(),[2,cc.audioEngine.playEffect(n,e)]}})})},t.prototype.stopSound=function(t){cc.audioEngine.stopEffect(t)},t._instance=null,t}();n.default=s,cc._RF.pop()},{"./../Enum":"Enum","./DataManager":"DataManager","./ResourceManager":"ResourceManager"}],Baselayer:[function(t,e,n){"use strict";cc._RF.push(e,"85f2bS+gIxJj5wlc4XZ3Qd4","Baselayer");var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var a,o=arguments.length,c=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(c=(o<3?a(c):o>3?a(e,n,c):a(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,r=c.ccclass,s=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.show=function(){this.node.active=!0},e.prototype.hide=function(){this.node.active=!1},e.prototype.zoomIn=function(t,e,n){void 0===e&&(e=1.5),void 0===n&&(n=.3),t.setScale(e);var i=cc.scaleTo(n,1);cc.tween(t).then(i).start()},e.prototype.zoomOut=function(t,e,n){void 0===e&&(e=.5),void 0===n&&(n=.3),t.setScale(e);var i=cc.scaleTo(n,1);cc.tween(t).then(i).start()},o([r],e)}(cc.Component));n.default=s,cc._RF.pop()},{}],Board:[function(t,e,n){"use strict";cc._RF.push(e,"768e6WN1ylLepOdZcXsg5RV","Board");var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var a,o=arguments.length,c=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(c=(o<3?a(c):o>3?a(e,n,c):a(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Enum"),r=t("../Utils"),s=t("../manager/DataManager"),l=t("../manager/PoolManager"),u=t("./Car"),h=cc._decorator,d=h.ccclass,f=(h.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){var t=null;if(s.default.instance.mode==c.ENUM_GAME_MODE.TIMER){if((t=s.LEVEL_DATA[s.default.instance.level-1]).cars>0)return void(s.default.instance.carNum=t.cars)}else if(s.default.instance.mode==c.ENUM_GAME_MODE.LEVEL){t=s.CLEVEL_Data[s.default.instance.clevel-1];var e=r.random(2,8);if(t.crash>0&&(e=t.crash),s.default.instance.crashTotal=e,t.cars>0)return void(s.default.instance.carNum=t.cars)}this.node.removeAllChildren();for(var n=t.width/t.unit,i=t.height/t.unit,a=new Map,o=0;o<n;o++)for(var h=0;h<i;h++)if(!a.has(o+"_"+h)){var d=r.random(0,3);if(0==d||2==d){var f=0;if(h<i-1&&!a.has(o+"_"+(h+1))&&(f=2,h<i-2&&!a.has(o+"_"+(h+2))&&(f=r.random(2,3))),f){s.default.instance.carNum+=1;var p=(_=l.default.instance.getNode("Car"+d,this.node)).getComponent(u.default);_.width=t.unit,_.height=t.unit*f;for(var g=0;g<f;g++)a.set(o+"_"+(h+g),!0);_.setPosition(_.width*(.5+o),h*t.unit+.5*_.height),p.setDir(d),p.setSprite(d),p.setCollider()}}else{var y=0;if(o<n-1&&!a.has(o+1+"_"+h)&&(y=2,o<n-2&&!a.has(o+2+"_"+h)&&(y=r.random(2,3))),y){var _;for(s.default.instance.carNum+=1,p=(_=l.default.instance.getNode("Car"+d,this.node)).getComponent(u.default),_.width=t.unit*y,_.height=t.unit,g=0;g<y;g++)a.set(o+g+"_"+h,!0);_.setPosition(o*t.unit+.5*_.width,_.height*(.5+h)),p.setDir(d),p.setSprite(d),p.setCollider()}}}for(o=0;o<n;o++)if(r.random(0,1)){var M=(v=l.default.instance.getNode("Exit",this.node)).getComponent(cc.BoxCollider);v.width=t.unit,v.setPosition(o*t.unit+t.unit/2,t.height+5),M.size.width=t.unit;var m=(S=l.default.instance.getNode("Block2",this.node)).getComponent(cc.BoxCollider);S.width=t.unit,S.setPosition(o*t.unit+t.unit/2,-5),m.size.width=t.unit}else M=(v=l.default.instance.getNode("Exit",this.node)).getComponent(cc.BoxCollider),v.width=t.unit,v.setPosition(o*t.unit+t.unit/2,-5),M.size.width=t.unit,m=(S=l.default.instance.getNode("Block0",this.node)).getComponent(cc.BoxCollider),S.width=t.unit,S.setPosition(o*t.unit+t.unit/2,t.height+5),m.size.width=t.unit;for(h=0;h<i;h++)if(r.random(0,1))M=(v=l.default.instance.getNode("Exit",this.node)).getComponent(cc.BoxCollider),v.height=t.unit,v.setPosition(-5,h*t.unit+t.unit/2),M.size.height=t.unit,m=(S=l.default.instance.getNode("Block3",this.node)).getComponent(cc.BoxCollider),S.height=t.unit,S.setPosition(t.width+5,h*t.unit+t.unit/2),m.size.height=t.unit;else{var v,S;M=(v=l.default.instance.getNode("Exit",this.node)).getComponent(cc.BoxCollider),v.height=t.unit,v.setPosition(t.width+5,h*t.unit+t.unit/2),M.size.height=t.unit,m=(S=l.default.instance.getNode("Block1",this.node)).getComponent(cc.BoxCollider),S.height=t.unit,S.setPosition(-5,h*t.unit+t.unit/2),m.size.height=t.unit}},o([d],e)}(cc.Component));n.default=f,cc._RF.pop()},{"../Enum":"Enum","../Utils":"Utils","../manager/DataManager":"DataManager","../manager/PoolManager":"PoolManager","./Car":"Car"}],CarSingle:[function(t,e,n){"use strict";cc._RF.push(e,"b38bfwZHwhPfJl1FC+k/o2S","CarSingle");var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var a,o=arguments.length,c=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(c=(o<3?a(c):o>3?a(e,n,c):a(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Enum"),r=t("../StaticInstance"),s=t("../Utils"),l=t("../manager/AudioManager"),u=t("../manager/DataManager"),h=t("../manager/EffectManager"),d=t("../manager/ResourceManager"),f=cc._decorator,p=f.ccclass,g=f.property,y=["car_black_","car_blue_","car_green_","car_yellow_","car_red_"],_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dir=0,e.speed=1200,e.speedExit=600,e.touchPos=null,e.touchSlideDis=5,e.touchSlideDir=cc.v2(0,0),e.isMoving=!1,e}return a(e,t),e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchOver,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchOver,this)},e.prototype.setDir=function(t){this.dir=t},e.prototype.setSprite=function(t){var e=""+(y[s.random(0,4)]+t);this.node.getChildByName("body").getComponent(cc.Sprite).spriteFrame=d.default.instance.getSprite(e)},e.prototype.setCollider=function(){var t=this.node.getComponent(cc.BoxCollider),e=new cc.Size(this.node.width-10,this.node.height-10);t.size=e},e.prototype.setParticle=function(){var t=this.node.getChildByName("collect");t&&t.getComponent(cc.ParticleSystem).resetSystem()},e.prototype.onTouchStart=function(t){if(!this.isMoving&&!u.default.instance.currentCar){u.default.instance.currentCar=this;var e=t.getLocation(),n=this.node.parent.convertToNodeSpaceAR(e);this.touchPos=n,u.default.instance.isTimerStart||r.StaticInstance.uiManager.setMainTimer()}},e.prototype.onTouchMove=function(t){if(!this.isMoving&&u.default.instance.currentCar==this&&this.touchPos){var e=t.getLocation(),n=this.node.parent.convertToNodeSpaceAR(e);if(s.getDistance(this.touchPos,n)>=this.touchSlideDis){var i=Math.abs(s.getAngle(this.touchPos,n));i>45&&i<135?(this.touchSlideDir.x=0,this.touchPos.y-n.y>0?this.touchSlideDir.y=-1:this.touchSlideDir.y=1):(this.touchSlideDir.y=0,this.touchPos.x-n.x<0?this.touchSlideDir.x=1:this.touchSlideDir.x=-1)}}},e.prototype.onTouchOver=function(){this.isMoving||u.default.instance.currentCar!=this||(this.touchSlideDir.x||this.touchSlideDir.y?this.touchSlideDir.x&&(1==this.dir||3==this.dir)||this.touchSlideDir.y&&(0==this.dir||2==this.dir)?this.isMoving=!0:(l.default.instance.playSound(c.ENUM_AUDIO_CLIP.BI),this.resetStatus()):(l.default.instance.playSound(c.ENUM_AUDIO_CLIP.BIBI),this.resetStatus()))},e.prototype.update=function(t){this.isMoving&&(this.node.x+=this.speed*this.touchSlideDir.x*t,this.node.y+=this.speed*this.touchSlideDir.y*t)},e.prototype.onCollisionEnter=function(t,e){var n=this;if(!u.default.instance.isShaking&&(this.touchSlideDir.x||this.touchSlideDir.y))if(t.tag==c.ENUM_COLLIDER_TYPE.CAR||t.tag==c.ENUM_COLLIDER_TYPE.BLOCK){l.default.instance.playSound(c.ENUM_AUDIO_CLIP.CRASH),u.default.instance.isShaking=!0,h.default.instance.shake(r.StaticInstance.gameManager.stage,.1,function(){u.default.instance.isShaking=!1},!1);var i=this.touchSlideDir,a=i.x,o=i.y,d=cc.v2(0,0);a?(this.touchSlideDir.x=0,this.node.x=t.node.x+(t.node.width+e.node.width)/2*-a,d=cc.v2(this.node.width/2*a,0)):(this.touchSlideDir.y=0,this.node.y=t.node.y+(t.node.height+e.node.height)/2*-o,d=cc.v2(0,this.node.height/2*o)),h.default.instance.play("Bomb",this.node,{pos:d}),this.isMoving=!1,this.resetStatus()}else if(t.tag==c.ENUM_COLLIDER_TYPE.EXIT){l.default.instance.playSound(c.ENUM_AUDIO_CLIP.Exit);var f=this.touchSlideDir,p=(a=f.x,o=f.y,cc.winSize),g=p.width,y=p.height,_=null;if(a){var M=-90;(1==this.dir&&1==a||3==this.dir&&-1==a)&&(M=90),this.node.angle+=M,this.touchSlideDir.x=0,this.node.x=t.node.x+(t.node.width+e.node.height)/2*a+t.offset.x;var m=s.toXY(this.node,r.StaticInstance.gameManager.stage),v=0,S=(v=a>0?Math.abs(y/2-m.y)+this.node.height/2:Math.abs(-y/2-m.y)+this.node.height/2)/this.speedExit;_=cc.moveTo(S,this.node.x,this.node.y+v*a)}else M=-90,(2==this.dir&&1==o||0==this.dir&&-1==o)&&(M=90),this.node.angle+=M,this.touchSlideDir.y=0,this.node.y=t.node.y+(t.node.height+e.node.width)/2*o+t.offset.y,m=s.toXY(this.node,r.StaticInstance.gameManager.stage),v=0,S=(v=o>0?Math.abs(g/2-m.x)+this.node.width/2:Math.abs(-g/2-m.x)+this.node.width/2)/this.speedExit,_=cc.moveTo(S,this.node.x+v*o,this.node.y);this.setParticle(),this.isMoving=!1,_&&cc.tween(this.node).then(_).call(function(){u.default.instance.carExitNum+=1,r.StaticInstance.gameManager.onGameCheck(),n.node.removeFromParent()}).start(),this.scheduleOnce(function(){n.resetStatus()})}},e.prototype.resetStatus=function(){u.default.instance.currentCar=null,this.touchPos=null,this.touchSlideDir=cc.v2(0,0)},o([g({type:cc.Enum({up:0,right:1,down:2,left:3}),tooltip:"\u671d\u5411"})],e.prototype,"dir",void 0),o([p],e)}(cc.Component);n.default=_,cc._RF.pop()},{"../Enum":"Enum","../StaticInstance":"StaticInstance","../Utils":"Utils","../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","../manager/EffectManager":"EffectManager","../manager/ResourceManager":"ResourceManager"}],Car:[function(t,e,n){"use strict";cc._RF.push(e,"68b0cWziipJo5Sh2JsVWSwv","Car");var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var a,o=arguments.length,c=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(c=(o<3?a(c):o>3?a(e,n,c):a(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Enum"),r=t("../StaticInstance"),s=t("../Utils"),l=t("../manager/AudioManager"),u=t("../manager/DataManager"),h=t("../manager/EffectManager"),d=t("../manager/ResourceManager"),f=t("../manager/ToastManager"),p=cc._decorator,g=p.ccclass,y=p.property,_=["car_black_","car_blue_","car_green_","car_yellow_","car_red_"],M=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dir=0,e.speed=1e3,e.speedExit=600,e.touchPos=null,e.touchSlideDis=3,e.touchSlideDir=cc.v2(0,0),e.isMoving=!1,e.isOpacity=!1,e.opacityCount=0,e.isExiting=!1,e}var n;return a(e,t),n=e,e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchOver,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchOver,this)},e.prototype.setDir=function(t){this.dir=t},e.prototype.setSprite=function(t){var e=""+(_[s.random(0,4)]+t);this.node.getChildByName("body").getComponent(cc.Sprite).spriteFrame=d.default.instance.getSprite(e)},e.prototype.setCollider=function(){var t=this.node.getComponent(cc.BoxCollider),e=new cc.Size(this.node.width-10,this.node.height-10);t.size=e},e.prototype.setParticle=function(){var t=this.node.getChildByName("collect");t&&t.getComponent(cc.ParticleSystem).resetSystem()},e.prototype.onTouchStart=function(t){if(!u.default.instance.isSkillRuning){var e=t.getLocation(),i=this.node.parent.convertToNodeSpaceAR(e);if(u.default.instance.isSkilling){var a=this,o=this.node;if(0!=u.default.instance.skillIndex||this.isMoving)if(1!=u.default.instance.skillIndex||this.isMoving||this.isOpacity||0!=this.opacityCount)2!=u.default.instance.skillIndex||this.isMoving||(l.default.instance.playSound(c.ENUM_AUDIO_CLIP.SKILL),cc.tween(o).to(.3,{scale:.1}).call(function(){if(o.removeFromParent(),u.default.instance.isSkillRuning=!1,u.default.instance.isSkilling=!1,r.StaticInstance.uiManager.setMainSkillTip(),u.default.instance.carExitNum+=1,u.default.instance.carNum-u.default.instance.carExitNum==1){var t=r.StaticInstance.gameManager.board.children.find(function(t){return t.name.indexOf("Car")>=0});t&&t.getComponent(n).isOpacity&&(t.getComponent(n).isOpacity=!1,t.getComponent(n).opacityCount=0,cc.tween(t).to(.1,{opacity:255}).start())}r.StaticInstance.gameManager.onGameCheck()}).start());else{if(u.default.instance.carNum-u.default.instance.carExitNum==1)return void f.default.instance.show("\u8f66\u8f86\u5df2\u7ecf\u5269\u4e0b\u6700\u540e\u4e00\u8f86\u4e86\uff01\uff01\uff01",{gravity:"TOP",bg_color:cc.color(226,69,109,255)});l.default.instance.playSound(c.ENUM_AUDIO_CLIP.SKILL),cc.tween(o).to(.3,{opacity:100}).call(function(){a.isOpacity=!0,u.default.instance.isSkillRuning=!1,u.default.instance.isSkilling=!1,r.StaticInstance.uiManager.setMainSkillTip()}).start()}else{var s=u.LEVEL_DATA[u.default.instance.level-1].unit,h=o.width;0!=a.dir&&2!=a.dir||(h=o.height),h<=2*s?f.default.instance.show("\u8f66\u8f86\u5df2\u7ecf\u662f\u6700\u77ed\u72b6\u6001\uff01\uff01\uff01",{gravity:"TOP",bg_color:cc.color(226,69,109,255)}):(l.default.instance.playSound(c.ENUM_AUDIO_CLIP.SKILL),u.default.instance.isSkillRuning=!0,0==a.dir||2==a.dir?cc.tween(o).to(.3,{height:o.height-s}).call(function(){a.setCollider(),u.default.instance.isSkillRuning=!1,u.default.instance.isSkilling=!1,r.StaticInstance.uiManager.setMainSkillTip()}).start():cc.tween(o).to(.3,{width:o.width-s}).call(function(){a.setCollider(),u.default.instance.isSkillRuning=!1,u.default.instance.isSkilling=!1,r.StaticInstance.uiManager.setMainSkillTip()}).start())}}else this.isMoving||this.touchPos||this.isOpacity||(this.touchPos=i,u.default.instance.mode==c.ENUM_GAME_MODE.TIMER&&(u.default.instance.isTimerStart||r.StaticInstance.uiManager.setMainTimer()))}},e.prototype.onTouchMove=function(t){if(!this.isMoving&&this.touchPos){var e=t.getLocation(),n=this.node.parent.convertToNodeSpaceAR(e);if(s.getDistance(this.touchPos,n)>=this.touchSlideDis){var i=Math.abs(s.getAngle(this.touchPos,n));i>45&&i<135?(this.touchSlideDir.x=0,this.touchPos.y-n.y>0?this.touchSlideDir.y=-1:this.touchSlideDir.y=1):(this.touchSlideDir.y=0,this.touchPos.x-n.x<0?this.touchSlideDir.x=1:this.touchSlideDir.x=-1)}}},e.prototype.onTouchOver=function(){if(!this.isMoving&&this.touchPos)if(this.touchSlideDir.x||this.touchSlideDir.y)if(this.touchSlideDir.x&&(1==this.dir||3==this.dir)||this.touchSlideDir.y&&(0==this.dir||2==this.dir)){this.isMoving=!0;var t=this.node.getChildByName("tip");t&&(t.active=!1),u.default.instance.zIndex+=1,this.node.zIndex=u.default.instance.zIndex}else l.default.instance.playSound(c.ENUM_AUDIO_CLIP.BI),this.resetStatus();else l.default.instance.playSound(c.ENUM_AUDIO_CLIP.BIBI),this.resetStatus()},e.prototype.update=function(t){this.isMoving&&(this.node.x+=this.speed*this.touchSlideDir.x*t,this.node.y+=this.speed*this.touchSlideDir.y*t)},e.prototype.onCollisionEnter=function(t,e){var i=this;if(t.tag==c.ENUM_COLLIDER_TYPE.EXIT){this.isExiting=!0,l.default.instance.playSound(c.ENUM_AUDIO_CLIP.Exit);var a=this.touchSlideDir,o=a.x,d=a.y,f=cc.winSize,p=f.width,g=f.height,y=null;if(o){var _=-90;(1==this.dir&&1==o||3==this.dir&&-1==o)&&(_=90),this.node.angle+=_,this.touchSlideDir.x=0,this.node.x=t.node.x+(t.node.width+e.node.height)/2*o+t.offset.x;var M=s.toXY(this.node,r.StaticInstance.gameManager.stage),m=0,v=(m=o>0?Math.abs(g/2-M.y)+this.node.height/2:Math.abs(-g/2-M.y)+this.node.height/2)/this.speedExit;y=cc.moveTo(v,this.node.x,this.node.y+m*o)}else _=-90,(2==this.dir&&1==d||0==this.dir&&-1==d)&&(_=90),this.node.angle+=_,this.touchSlideDir.y=0,this.node.y=t.node.y+(t.node.height+e.node.width)/2*d+t.offset.y,M=s.toXY(this.node,r.StaticInstance.gameManager.stage),m=0,v=(m=d>0?Math.abs(p/2-M.x)+this.node.width/2:Math.abs(-p/2-M.x)+this.node.width/2)/this.speedExit,y=cc.moveTo(v,this.node.x+m*d,this.node.y);this.setParticle(),y&&cc.tween(this.node).then(y).call(function(){if(u.default.instance.carExitNum+=1,u.default.instance.carNum-u.default.instance.carExitNum==1){var t=r.StaticInstance.gameManager.board.children.find(function(t){return t.name.indexOf("Car")>=0});t&&t.getComponent(n).isOpacity&&(t.getComponent(n).isOpacity=!1,t.getComponent(n).opacityCount=0,cc.tween(t).to(.1,{opacity:255}).start())}r.StaticInstance.gameManager.onGameCheck(),i.node.removeFromParent()}).start()}else if(t.tag==c.ENUM_COLLIDER_TYPE.BLOCK){this.isMoving=!1,l.default.instance.playSound(c.ENUM_AUDIO_CLIP.CRASH),u.default.instance.isShaking||(u.default.instance.isShaking=!0,h.default.instance.shake(r.StaticInstance.gameManager.roads,.1,function(){u.default.instance.isShaking=!1},!1)),u.default.instance.mode==c.ENUM_GAME_MODE.LEVEL&&(u.default.instance.crashCurrent+=1,r.StaticInstance.uiManager.setMainLevelCrash(),r.StaticInstance.gameManager.onGameCheck());var S=this.touchSlideDir,E=(o=S.x,d=S.y,cc.v2(0,0));o?(this.touchSlideDir.x=0,this.node.x=t.node.x+(t.node.width+e.node.width)/2*-o,E=cc.v2(this.node.width/2*o,0)):(this.touchSlideDir.y=0,this.node.y=t.node.y+(t.node.height+e.node.height)/2*-d,E=cc.v2(0,this.node.height/2*d)),h.default.instance.play("Bomb",this.node,{pos:E}),u.default.instance.mode==c.ENUM_GAME_MODE.TIMER&&(h.default.instance.play("TimeTip",this.node),u.default.instance.seconds+=5,r.StaticInstance.uiManager.setMainTimerRendor()),this.resetStatus()}else if(t.tag==c.ENUM_COLLIDER_TYPE.CAR){var I=e.node.getComponent(n),b=t.node.getComponent(n);if(I.isExiting||b.isExiting)return;if(I.isMoving&&b.isMoving){I.isMoving=!1,b.isMoving=!1,l.default.instance.playSound(c.ENUM_AUDIO_CLIP.CRASH),u.default.instance.isShaking||(u.default.instance.isShaking=!0,h.default.instance.shake(r.StaticInstance.gameManager.roads,.1,function(){u.default.instance.isShaking=!1},!1)),u.default.instance.mode==c.ENUM_GAME_MODE.LEVEL&&(u.default.instance.crashCurrent+=1,r.StaticInstance.uiManager.setMainLevelCrash(),r.StaticInstance.gameManager.onGameCheck());var C=t.world.aabb,P=t.world.preAabb.clone(),w=e.world.aabb,U=e.world.preAabb.clone();if(P.x=C.x,U.x=w.x,cc.Intersection.rectRect(U,P)){var O=null,N=null;return 1==I.dir||3==I.dir?(O=I,N=b):(O=b,N=I),o=O.touchSlideDir.x,E=cc.v2(0,0),O.touchSlideDir.x=0,O.node.x=N.node.x+(N.node.width+O.node.width)/2*-o,E=cc.v2(O.node.width/2*o,0),h.default.instance.play("Bomb",O.node,{pos:E}),u.default.instance.mode==c.ENUM_GAME_MODE.TIMER&&(h.default.instance.play("TimeTip",O.node),u.default.instance.seconds+=5,r.StaticInstance.uiManager.setMainTimerRendor()),I.resetStatus(),void b.resetStatus()}U.y=w.y,P.y=C.y,cc.Intersection.rectRect(U,P)&&(O=null,N=null,0==I.dir||2==I.dir?(O=I,N=b):(O=b,N=I),d=O.touchSlideDir.y,E=cc.v2(0,0),O.touchSlideDir.y=0,O.node.y=N.node.y+(N.node.height+O.node.height)/2*-d,E=cc.v2(0,O.node.height/2*d),h.default.instance.play("Bomb",O.node,{pos:E}),u.default.instance.mode==c.ENUM_GAME_MODE.TIMER&&(h.default.instance.play("TimeTip",O.node),u.default.instance.seconds+=5,r.StaticInstance.uiManager.setMainTimerRendor()),I.resetStatus(),b.resetStatus())}else if(this.isMoving)if(b.isOpacity)I.opacityCount+=1,b.opacityCount+=1;else{this.isMoving=!1,l.default.instance.playSound(c.ENUM_AUDIO_CLIP.CRASH),u.default.instance.isShaking||(u.default.instance.isShaking=!0,h.default.instance.shake(r.StaticInstance.gameManager.roads,.1,function(){u.default.instance.isShaking=!1},!1)),u.default.instance.mode==c.ENUM_GAME_MODE.LEVEL&&(u.default.instance.crashCurrent+=1,r.StaticInstance.uiManager.setMainLevelCrash(),r.StaticInstance.gameManager.onGameCheck());var T=this.touchSlideDir;o=T.x,d=T.y,E=cc.v2(0,0),o?(this.touchSlideDir.x=0,this.node.x=t.node.x+(t.node.width+e.node.width)/2*-o,E=cc.v2(this.node.width/2*o,0)):(this.touchSlideDir.y=0,this.node.y=t.node.y+(t.node.height+e.node.height)/2*-d,E=cc.v2(0,this.node.height/2*d)),h.default.instance.play("Bomb",this.node,{pos:E}),u.default.instance.mode==c.ENUM_GAME_MODE.TIMER&&(h.default.instance.play("TimeTip",this.node),u.default.instance.seconds+=5,r.StaticInstance.uiManager.setMainTimerRendor()),this.resetStatus()}}},e.prototype.onCollisionExit=function(t,e){var i=e.node.getComponent(n),a=t.node.getComponent(n),o=t.node;a&&a.isOpacity&&(i.opacityCount-=1,a.opacityCount-=1,a.opacityCount<=0&&(a.isOpacity=!1,a.opacityCount=0,cc.tween(o).to(.1,{opacity:255}).start()))},e.prototype.resetStatus=function(){this.touchPos=null,this.touchSlideDir=cc.v2(0,0)},o([y({type:cc.Enum({up:0,right:1,down:2,left:3}),tooltip:"\u671d\u5411"})],e.prototype,"dir",void 0),n=o([g],e)}(cc.Component);n.default=M,cc._RF.pop()},{"../Enum":"Enum","../StaticInstance":"StaticInstance","../Utils":"Utils","../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","../manager/EffectManager":"EffectManager","../manager/ResourceManager":"ResourceManager","../manager/ToastManager":"ToastManager"}],DataManager:[function(t,e,n){"use strict";cc._RF.push(e,"730a3DszhpGB4lxakYD51PT","DataManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.CLEVEL_Data=n.LEVEL_DATA=void 0;var i=t("../Enum");n.LEVEL_DATA=[{width:490,height:490,unit:70,cars:4},{width:550,height:600,unit:50,cars:-1},{width:600,height:900,unit:50,cars:-1}],n.CLEVEL_Data=[{width:490,height:490,unit:70,cars:1,crash:3},{width:490,height:490,unit:70,cars:1,crash:4},{width:490,height:490,unit:70,cars:1,crash:4},{width:490,height:490,unit:70,cars:1,crash:5},{width:550,height:600,unit:50,cars:-1,crash:8},{width:490,height:490,unit:70,cars:1,crash:7},{width:550,height:600,unit:50,cars:-1,crash:5},{width:490,height:490,unit:70,cars:1,crash:9},{width:490,height:490,unit:70,cars:1,crash:7},{width:600,height:900,unit:50,cars:-1,crash:-1}];var a=function(){function t(){this.mode=i.ENUM_GAME_MODE.TIMER,this.status=i.ENUM_GAME_STATUS.UNRUNING,this.loadingRate=0,this._isMusicOn=!0,this._isSoundOn=!0,this.games=[{title:"\u6d88\u706d\u661f\u661f",icon:"xiao2d",appid:"wxefd5a4ddd8e31b44",url:"https://store.cocos.com/app/detail/4183"},{title:"\u5b9e\u51b5\u8db3\u7403\u676f",icon:"football",appid:"wx0c16e9d7f9e87dac",url:"https://store.cocos.com/app/detail/4221"},{title:"\u722c\u4e86\u4e2a\u722c",icon:"stairway",appid:"wx025bcf3a316bfa27",url:"https://store.cocos.com/app/detail/4314"},{title:"\u54a9\u4e86\u4e2a\u54a93D",icon:"xiao3d",appid:"wx5841e5a26082b380",url:"https://store.cocos.com/app/detail/4148"},{title:"\u7ecf\u5178\u6ce1\u6ce1\u9f99",icon:"bubble",appid:"wxcc2f90afdf28ae3b",url:"https://store.cocos.com/app/detail/4370"}],this.level=1,this.levelMax=3,this.clevel=1,this.clevelMax=1,this.power=5,this.powerCollectByVideo=1,this.lastPowerRefreshTime=0,this.powerRefreshTime=60,this.lastPowerUpdateTime=0,this.keys=5,this.keysCollectByVideo=1,this.currentCar=null,this.isShaking=!1,this.carNum=0,this.carExitNum=0,this.seconds=0,this.secondsRecord=604800,this.isTimerStart=!1,this.skillIndex=-1,this.isSkilling=!1,this.isSkillRuning=!1,this.zIndex=0,this.crashTotal=0,this.crashCurrent=0}return t.getInstance=function(){return null===this._instance&&(this._instance=new this),this._instance},Object.defineProperty(t,"instance",{get:function(){return this.getInstance()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMusicOn",{get:function(){return this._isMusicOn},set:function(t){this._isMusicOn=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSoundOn",{get:function(){return this._isSoundOn},set:function(t){this._isSoundOn=t},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.status=i.ENUM_GAME_STATUS.UNRUNING,this.currentCar=null,this.carNum=0,this.carExitNum=0,this.skillIndex=-1,this.isSkilling=!1,this.isSkillRuning=!1,this.zIndex=0,this.crashTotal=0,this.crashCurrent=0},t.prototype.save=function(){cc.sys.localStorage.setItem("CC_CAR_MOVE",JSON.stringify({isSoundOn:this.isSoundOn,isMusicOn:this.isMusicOn,keys:this.keys,power:this.power,lastPowerRefreshTime:this.lastPowerRefreshTime,lastPowerUpdateTime:this.lastPowerUpdateTime,secondsRecord:this.secondsRecord,clevel:this.clevel,clevelMax:this.clevelMax}))},t.prototype.restore=function(){var t=cc.sys.localStorage.getItem("CC_CAR_MOVE");try{var e=JSON.parse(t);this.isMusicOn=!1!==(null==e?void 0:e.isMusicOn),this.isSoundOn=!1!==(null==e?void 0:e.isSoundOn),this.keys="number"==typeof e.keys?e.keys:5,this.power="number"==typeof e.power?e.power:5,this.lastPowerRefreshTime="number"==typeof e.lastPowerRefreshTime?e.lastPowerRefreshTime:0,this.lastPowerUpdateTime="number"==typeof e.lastPowerUpdateTime?e.lastPowerUpdateTime:0,this.secondsRecord="number"==typeof e.secondsRecord?e.secondsRecord:604800,this.clevel="number"==typeof e.clevel?e.clevel:1,this.clevelMax="number"==typeof e.clevelMax?e.clevelMax:1}catch(n){this.isMusicOn=!0,this.isSoundOn=!0,this.keys=5,this.power=5,this.lastPowerRefreshTime=0,this.lastPowerUpdateTime=0,this.secondsRecord=604800,this.clevel=1,this.clevelMax=1}},t._instance=null,t}();n.default=a,cc._RF.pop()},{"../Enum":"Enum"}],EffectManager:[function(t,e,n){"use strict";cc._RF.push(e,"def54s79C1DBq7aJq3x4CWS","EffectManager"),Object.defineProperty(n,"__esModule",{value:!0});var i=t("./PoolManager"),a=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return null==this._instance&&(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),t.prototype.play=function(t,e,n){var a=i.default.instance.getNode(""+t,e);if(n&&n.pos&&a.setPosition(n.pos),a.getComponent(cc.Animation)){var o=a.getComponent(cc.Animation);o.on("finished",function(){a.removeFromParent()}),o.play()}else a.getComponent(cc.ParticleSystem)&&a.getComponent(cc.ParticleSystem).resetSystem()},t.prototype.shake=function(t,e,n,i){void 0===i&&(i=!0);var a=function(t,e,n,i){var a=t.getPosition();cc.Tween.stopAllByTarget(t);for(var o=[],c=[],r=0;r<8;r++){var s=Math.round(-20*Math.random())+10;o.push(s+a.x);var l=Math.round(-20*Math.random())+10;c.push(l+a.y)}return cc.tween(t).sequence(cc.tween().to(.02,{position:cc.v3(o[0],c[0],0)}),cc.tween().to(.02,{position:cc.v3(o[1],c[1],0)}),cc.tween().to(.02,{position:cc.v3(o[2],c[2],0)}),cc.tween().to(.02,{position:cc.v3(o[3],c[3],0)}),cc.tween().to(.02,{position:cc.v3(o[4],c[4],0)}),cc.tween().to(.02,{position:cc.v3(o[5],c[5],0)}),cc.tween().to(.02,{position:cc.v3(o[6],c[6],0)}),cc.tween().to(.02,{position:cc.v3(o[7],c[7],0)})).repeatForever().start(),new Promise(function(o){setTimeout(function(){cc.Tween.stopAllByTarget(t),t.setPosition(a.x,a.y),i?o():n&&n()},1e3*e)})};if(t instanceof Array)if(i){for(var o=[],c=0;c<t.length;c++){var r=a(t[c],e,n,i);o.push(r)}Promise.all(o).then(function(){return n&&n()})}else t.forEach(function(t){return a(t,e,n,i)});else a(t,e,n,i)},t._instance=null,t}();n.default=a,cc._RF.pop()},{"./PoolManager":"PoolManager"}],Enum:[function(t,e,n){"use strict";cc._RF.push(e,"50f2e0oDptJt4SjWGm8di2L","Enum"),Object.defineProperty(n,"__esModule",{value:!0}),n.ENUM_RESOURCE_TYPE=n.ENUM_GAME_EVENT=n.ENUM_COLLIDER_TYPE=n.ENUM_UI_TYPE=n.ENUM_AUDIO_CLIP=n.ENUM_GAME_STATUS=n.ENUM_GAME_MODE=void 0,function(t){t.TIMER="TIMER",t.LEVEL="LEVEL"}(n.ENUM_GAME_MODE||(n.ENUM_GAME_MODE={})),function(t){t.UNRUNING="UNRUNING",t.RUNING="RUNING"}(n.ENUM_GAME_STATUS||(n.ENUM_GAME_STATUS={})),function(t){t.BGM="bgm",t.CLICK="click",t.Exit="exit",t.CRASH="crash",t.BIBI="bibi",t.BI="bi",t.READY="ready",t.LOSE="lose",t.WIN="win",t.GET_COIN="get_coin",t.GET_MONEY="get_money",t.SKILL="skill",t.PASS="pass"}(n.ENUM_AUDIO_CLIP||(n.ENUM_AUDIO_CLIP={})),function(t){t.MENU="MenuLayer",t.MAIN="MainLayer",t.SETTING="SettingLayer",t.EXIT="ExitLayer",t.OVER="OverLayer",t.MORE="MoreLayer",t.RANK="RankLayer",t.SKILL_SUBMIT="SkillSubmitLayer",t.MAIN_LEVEL="MainLevelLayer",t.EXIT_LEVEL="ExitLevelLayer",t.LOSE="LoseLayer",t.WIN="WinLayer"}(n.ENUM_UI_TYPE||(n.ENUM_UI_TYPE={})),function(t){t[t.CAR=0]="CAR",t[t.BLOCK=1]="BLOCK",t[t.EXIT=2]="EXIT"}(n.ENUM_COLLIDER_TYPE||(n.ENUM_COLLIDER_TYPE={})),n.ENUM_GAME_EVENT||(n.ENUM_GAME_EVENT={}),n.ENUM_RESOURCE_TYPE=[{content:cc.AudioClip,path:"audio",type:"audio",ratio:.4},{content:cc.Prefab,path:"prefab",type:"prefab",ratio:.3},{content:cc.SpriteFrame,path:"sprite",type:"sprite",ratio:.3}],cc._RF.pop()},{}],EventManager:[function(t,e,n){"use strict";cc._RF.push(e,"bcae8q0UKhLAL4D4SoN+gEr","EventManager"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(){this.eventMap=new Map}return t.getInstance=function(){return null===this._instance&&(this._instance=new this),this._instance},Object.defineProperty(t,"instance",{get:function(){return this.getInstance()},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n){this.eventMap.has(t)?this.eventMap.get(t).push({event:e,context:n}):this.eventMap.set(t,[{event:e,context:n}])},t.prototype.off=function(t,e){if(this.eventMap.has(t)){var n=this.eventMap.get(t),i=n.findIndex(function(t){return t.event==e});i>-1&&n.splice(i,1)}},t.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(this.eventMap.has(t)){var i=this.eventMap.get(t);i.forEach(function(t){var n=t.event,i=t.context;i?n.apply(i,e):n(e)})}},t.prototype.clear=function(){this.eventMap.clear()},t._instance=null,t}();n.default=i,cc._RF.pop()},{}],ExitLayer:[function(t,e,n){"use strict";cc._RF.push(e,"30bdbeLI7FCC6dF2SvgX/Hg","ExitLayer");var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var a,o=arguments.length,c=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(c=(o<3?a(c):o>3?a(e,n,c):a(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Enum"),r=t("./../StaticInstance"),s=t("../manager/AudioManager"),l=t("./Baselayer"),u=t("../manager/SdkManager"),h=t("../manager/DataManager"),d=cc._decorator,f=d.ccclass,p=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.panel=null,e.btnSubmit=null,e.btnClose=null,e}return a(e,t),e.prototype.onLoad=function(){this.panel=cc.find("style/panel",this.node),this.btnSubmit=cc.find("btn_submit",this.panel),this.btnClose=cc.find("btn_close",this.panel),this.btnSubmit.on("click",this.onSubmitClick,this),this.btnClose.on("click",this.onCloseClick,this)},e.prototype.onDestroy=function(){this.btnSubmit.off("click",this.onSubmitClick,this),this.btnClose.off("click",this.onCloseClick,this)},e.prototype.onEnable=function(){this.zoomIn(this.panel),u.default.instance.toggleBannerAd(!0)},e.prototype.onDisable=function(){u.default.instance.toggleBannerAd(!1)},e.prototype.onCloseClick=function(){s.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),r.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.EXIT,!1)},e.prototype.onSubmitClick=function(){s.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),r.StaticInstance.uiManager.setMainTimer(!1),h.default.instance.status=c.ENUM_GAME_STATUS.UNRUNING,r.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.MAIN,!1),r.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.EXIT,!1),r.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.MENU)},o([f],e)}(l.default));n.default=p,cc._RF.pop()},{"../Enum":"Enum","../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","../manager/SdkManager":"SdkManager","./../StaticInstance":"StaticInstance","./Baselayer":"Baselayer"}],ExitLevelLayer:[function(t,e,n){"use strict";cc._RF.push(e,"37b38cVr71KJpCZXmwmfe7W","ExitLevelLayer");var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var a,o=arguments.length,c=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(c=(o<3?a(c):o>3?a(e,n,c):a(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Enum"),r=t("./../StaticInstance"),s=t("../manager/AudioManager"),l=t("./Baselayer"),u=t("../manager/SdkManager"),h=t("../manager/DataManager"),d=cc._decorator,f=d.ccclass,p=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.panel=null,e.btnClose=null,e.btnSubmit=null,e.btnRestart=null,e}return a(e,t),e.prototype.onLoad=function(){this.panel=cc.find("style/panel",this.node),this.btnSubmit=cc.find("btn_submit",this.panel),this.btnRestart=cc.find("btn_restart",this.panel),this.btnClose=cc.find("btn_close",this.panel),this.btnSubmit.on("click",this.onSubmitClick,this),this.btnRestart.on("click",this.onRestartClick,this),this.btnClose.on("click",this.onCloseClick,this)},e.prototype.onDestroy=function(){this.btnSubmit.off("click",this.onSubmitClick,this),this.btnRestart.off("click",this.onRestartClick,this),this.btnClose.off("click",this.onCloseClick,this)},e.prototype.onEnable=function(){this.zoomIn(this.panel),u.default.instance.toggleBannerAd(!0)},e.prototype.onDisable=function(){u.default.instance.toggleBannerAd(!1)},e.prototype.onCloseClick=function(){s.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),r.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.EXIT_LEVEL,!1)},e.prototype.onSubmitClick=function(){s.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),h.default.instance.status=c.ENUM_GAME_STATUS.UNRUNING,r.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.MAIN_LEVEL,!1),r.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.EXIT_LEVEL,!1),r.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.MENU)},e.prototype.onRestartClick=function(){s.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),r.StaticInstance.transitionsManager.play(c.ENUM_UI_TYPE.EXIT_LEVEL,null,function(){r.StaticInstance.gameManager.onGameLevelStart()})},o([f],e)}(l.default));n.default=p,cc._RF.pop()},{"../Enum":"Enum","../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","../manager/SdkManager":"SdkManager","./../StaticInstance":"StaticInstance","./Baselayer":"Baselayer"}],GameManager:[function(t,e,n){"use strict";cc._RF.push(e,"8d970VZoPFL/L9/Lg/KHxlp","GameManager");var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var a,o=arguments.length,c=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(c=(o<3?a(c):o>3?a(e,n,c):a(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,r=c.ccclass,s=(c.property,t("../Enum")),l=t("../StaticInstance"),u=t("../game/Board"),h=t("./AudioManager"),d=t("./DataManager"),f=t("./PoolManager"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stage=null,e.roads=null,e.board=null,e}return a(e,t),e.prototype.onLoad=function(){l.StaticInstance.setGameManager(this),this.stage=cc.find("Stage",this.node)},e.prototype.onDestroy=function(){},e.prototype.onGameStart=function(){d.default.instance.reset(),d.default.instance.level=1,d.default.instance.seconds=0,this.initGame()},e.prototype.onGameLevelStart=function(){d.default.instance.reset(),this.initGame()},e.prototype.onGameCheck=function(){if(!l.StaticInstance.uiManager.isActive(s.ENUM_UI_TYPE.MENU))if(d.default.instance.mode==s.ENUM_GAME_MODE.TIMER)d.default.instance.carNum<=d.default.instance.carExitNum&&(h.default.instance.playSound(s.ENUM_AUDIO_CLIP.WIN),d.default.instance.level<d.default.instance.levelMax?(d.default.instance.reset(),d.default.instance.level+=1,this.initGame(),l.StaticInstance.uiManager.setMainTimer(!1),l.StaticInstance.uiManager.setMainLevelUpNotice()):(d.default.instance.status=s.ENUM_GAME_STATUS.UNRUNING,l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.OVER)));else if(d.default.instance.mode==s.ENUM_GAME_MODE.LEVEL)if(d.default.instance.crashTotal<=d.default.instance.crashCurrent){if(l.StaticInstance.uiManager.isActive(s.ENUM_UI_TYPE.WIN))return;d.default.instance.status=s.ENUM_GAME_STATUS.UNRUNING,h.default.instance.playSound(s.ENUM_AUDIO_CLIP.LOSE),l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.LOSE)}else if(d.default.instance.carNum<=d.default.instance.carExitNum){if(l.StaticInstance.uiManager.isActive(s.ENUM_UI_TYPE.LOSE))return;d.default.instance.status=s.ENUM_GAME_STATUS.UNRUNING,h.default.instance.playSound(s.ENUM_AUDIO_CLIP.PASS);var t=d.default.instance.clevel+1;t=Math.min(t,d.CLEVEL_Data.length),d.default.instance.clevel=t,t>d.default.instance.clevelMax&&(d.default.instance.clevelMax=t),d.default.instance.save(),l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.WIN)}},e.prototype.initGame=function(){if(d.default.instance.status=s.ENUM_GAME_STATUS.UNRUNING,this.stage.removeAllChildren(),d.default.instance.mode==s.ENUM_GAME_MODE.TIMER){var t=f.default.instance.getNode("Level"+d.default.instance.level,this.stage);this.roads=t.getChildByName("roads"),this.board=t.getChildByName("board"),this.board.getComponent(u.default).init(),d.default.instance.status=s.ENUM_GAME_STATUS.RUNING,l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.SKILL_SUBMIT,!1),l.StaticInstance.uiManager.setMainSkillTip(),1==d.default.instance.level&&(l.StaticInstance.uiManager.setMainTimerRendor(),h.default.instance.playSound(s.ENUM_AUDIO_CLIP.READY))}else d.default.instance.mode==s.ENUM_GAME_MODE.LEVEL&&(t=f.default.instance.getNode("CLevel"+d.default.instance.clevel,this.stage),this.roads=t.getChildByName("roads"),this.board=t.getChildByName("board"),this.board.getComponent(u.default).init(),h.default.instance.playSound(s.ENUM_AUDIO_CLIP.READY),l.StaticInstance.uiManager.setMainLevelCrash(),l.StaticInstance.uiManager.setMainLevelTip(),d.default.instance.status=s.ENUM_GAME_STATUS.RUNING)},o([r],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../Enum":"Enum","../StaticInstance":"StaticInstance","../game/Board":"Board","./AudioManager":"AudioManager","./DataManager":"DataManager","./PoolManager":"PoolManager"}],HeaderLayer:[function(t,e,n){"use strict";cc._RF.push(e,"7ed4ftzh8RJUJJcUByLfjnb","HeaderLayer");var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var a,o=arguments.length,c=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(c=(o<3?a(c):o>3?a(e,n,c):a(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Enum"),r=t("../Utils"),s=t("../manager/AudioManager"),l=t("../manager/DataManager"),u=t("../manager/SdkManager"),h=t("../manager/ToastManager"),d=t("./Baselayer"),f=cc._decorator,p=f.ccclass,g=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.barPower=null,e.barKey=null,e.timerPower=null,e}return a(e,t),e.prototype.onLoad=function(){this.barPower=cc.find("bar/power",this.node),this.barKey=cc.find("bar/key",this.node),this.timerPower=cc.find("timer",this.barPower)},e.prototype.rendorPower=function(){var t=this;if(this.barPower){var e=this.barPower.getChildByName("nums"),n=this.barPower.getChildByName("icon");e&&(e.getComponent(cc.Label).string=""+l.default.instance.power),n&&!n.hasEventListener("click")&&n.on("click",function(){t.getRewardByVideo("power")})}},e.prototype.rendorKeys=function(){var t=this;if(this.barKey){var e=this.barKey.getChildByName("nums"),n=this.barKey.getChildByName("icon");e&&(e.getComponent(cc.Label).string=""+l.default.instance.keys),n&&!n.hasEventListener("click")&&n.on("click",function(){t.getRewardByVideo("keys")})}},e.prototype.getRewardByVideo=function(t){var e=this;void 0===t&&(t="keys"),s.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),u.default.instance.showVideoAd(function(n){u.default.instance.getPlatform()||h.default.instance.show(n,{gravity:"BOTTOM",bg_color:cc.color(102,202,28,255)}),"keys"==t?(s.default.instance.playSound(c.ENUM_AUDIO_CLIP.GET_MONEY),l.default.instance.keys+=l.default.instance.keysCollectByVideo,l.default.instance.save(),e.rendorKeys()):(s.default.instance.playSound(c.ENUM_AUDIO_CLIP.GET_MONEY),l.default.instance.power+=l.default.instance.powerCollectByVideo,l.default.instance.save(),e.rendorPower())},function(t){h.default.instance.show(t,{gravity:"BOTTOM",bg_color:cc.color(226,69,109,255)})})},e.prototype.rendorPowerTimer=function(){var t=this;if(this.timerPower){this.unscheduleAllCallbacks();var e=!0;if(l.default.instance.power>=5&&(e=!1),l.default.instance.lastPowerRefreshTime>0&&(e=!0),e){var n=l.default.instance.powerRefreshTime-l.default.instance.lastPowerRefreshTime;this.timerPower.getComponent(cc.Label).string=r.formatSeconds(n,"i:s");var i=function(){(n-=1)<=0?(l.default.instance.power+=1,t.rendorPower(),l.default.instance.power>=5?(t.unschedule(i),t.timerPower.getComponent(cc.Label).string="",l.default.instance.lastPowerRefreshTime=0):(n=l.default.instance.powerRefreshTime,l.default.instance.lastPowerRefreshTime=0,t.timerPower.getComponent(cc.Label).string=r.formatSeconds(n,"i:s"))):(t.timerPower.getComponent(cc.Label).string=r.formatSeconds(n,"i:s"),l.default.instance.lastPowerRefreshTime=l.default.instance.powerRefreshTime-n),l.default.instance.lastPowerUpdateTime=(new Date).getTime(),l.default.instance.save()};this.schedule(i,1)}}},o([p],e)}(d.default));n.default=g,cc._RF.pop()},{"../Enum":"Enum","../Utils":"Utils","../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","../manager/SdkManager":"SdkManager","../manager/ToastManager":"ToastManager","./Baselayer":"Baselayer"}],Index:[function(t,e,n){"use strict";cc._RF.push(e,"bd1a12oV81Cu7bBxEAPpr3S","Index");var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var a,o=arguments.length,c=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(c=(o<3?a(c):o>3?a(e,n,c):a(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(a,o){function c(t){try{s(i.next(t))}catch(e){o(e)}}function r(t){try{s(i.throw(t))}catch(e){o(e)}}function s(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(c,r)}s((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function r(t){return function(e){return s([t,e])}}function s(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,i&&(a=2&o[0]?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,i=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=e.call(t,c)}catch(r){o=[6,r],i=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./StaticInstance"),l=t("./Enum"),u=t("./manager/AudioManager"),h=t("./manager/DataManager"),d=t("./manager/ResourceManager"),f=t("./manager/SdkManager"),p=cc._decorator,g=p.ccclass,y=p.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.collisionManagerDebug=!1,e}return a(e,t),e.prototype.onLoad=function(){var t=this;this.node.getChildByName("UI").opacity=255,cc.view.setResizeCallback(function(){return t.responsive()}),this.responsive(),h.default.instance.loadingRate=0;var e=cc.director.getCollisionManager();e.enabled=!0,this.collisionManagerDebug&&(e.enabledDebugDraw=!0)},e.prototype.start=function(){return c(this,void 0,void 0,function(){var t,e,n,i,a;return r(this,function(o){switch(o.label){case 0:for(e in t=[],l.ENUM_RESOURCE_TYPE)t.push(e);n=0,o.label=1;case 1:return n<t.length?(i=t[n],a=l.ENUM_RESOURCE_TYPE[i],[4,d.default.instance.loadRes(a)]):[3,4];case 2:o.sent(),o.label=3;case 3:return n++,[3,1];case 4:return s.StaticInstance.uiManager.init(),h.default.instance.restore(),u.default.instance.playMusic(),f.default.instance.initAudioEndListener(),f.default.instance.passiveShare(),f.default.instance.getRank(),f.default.instance.initBannerAd(),f.default.instance.initInterstitialAd(),f.default.instance.initVideoAd(),f.default.instance.initCustomRowAd(),f.default.instance.initCustomColAd(),this.onPowerIncrease(),s.StaticInstance.uiManager.toggle(l.ENUM_UI_TYPE.MENU,!0,function(){h.default.instance.loadingRate=1}),[2]}})})},e.prototype.responsive=function(){var t=cc.view.getDesignResolutionSize(),e=cc.view.getFrameSize(),n=function(){cc.Canvas.instance.fitHeight=!0,cc.Canvas.instance.fitWidth=!0},i=t.width/t.height,a=e.width/e.height;i<1?a<1?a>i?n():(cc.Canvas.instance.fitHeight=!1,cc.Canvas.instance.fitWidth=!0):n():a>1?a<i?n():(cc.Canvas.instance.fitHeight=!0,cc.Canvas.instance.fitWidth=!1):n()},e.prototype.onPowerIncrease=function(){if(h.default.instance.power<5){var t=(new Date).getTime(),e=Math.floor((t-h.default.instance.lastPowerUpdateTime)/1e3),n=Math.floor(e/h.default.instance.powerRefreshTime);h.default.instance.power+n>=5?(h.default.instance.power=5,h.default.instance.lastPowerRefreshTime=0):h.default.instance.power+=n,h.default.instance.save()}},o([y],e.prototype,"collisionManagerDebug",void 0),o([g],e)}(cc.Component);n.default=_,cc._RF.pop()},{"./Enum":"Enum","./StaticInstance":"StaticInstance","./manager/AudioManager":"AudioManager","./manager/DataManager":"DataManager","./manager/ResourceManager":"ResourceManager","./manager/SdkManager":"SdkManager"}],LoadingLayer:[function(t,e,n){"use strict";cc._RF.push(e,"0d076ynxVpJ6Ys/SGfhiZtJ","LoadingLayer");var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var a,o=arguments.length,c=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(c=(o<3?a(c):o>3?a(e,n,c):a(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Enum"),r=t("../manager/DataManager"),s=t("./Baselayer"),l=t("../StaticInstance"),u=cc._decorator,h=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loadfill=null,e}return a(e,t),e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e.prototype.update=function(){this.loadfill&&this.node.active&&(this.loadfill.fillRange=r.default.instance.loadingRate,r.default.instance.loadingRate>=1&&l.StaticInstance.uiManager.isActive(c.ENUM_UI_TYPE.MENU)&&this.hide())},o([d(cc.Sprite)],e.prototype,"loadfill",void 0),o([h],e)}(s.default);n.default=f,cc._RF.pop()},{"../Enum":"Enum","../StaticInstance":"StaticInstance","../manager/DataManager":"DataManager","./Baselayer":"Baselayer"}],LoseLayer:[function(t,e,n){"use strict";cc._RF.push(e,"02b65l930JI+6jWBupIGRWE","LoseLayer");var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var a,o=arguments.length,c=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(c=(o<3?a(c):o>3?a(e,n,c):a(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Enum"),r=t("./../StaticInstance"),s=t("../manager/AudioManager"),l=t("../manager/SdkManager"),u=t("../manager/ToastManager"),h=t("../manager/DataManager"),d=t("./HeaderLayer"),f=cc._decorator,p=f.ccclass,g=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.panel=null,e.btnRestart=null,e.btnNext=null,e.btnClose=null,e}return a(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.panel=cc.find("style/panel",this.node),this.btnRestart=cc.find("buttons/btn_restart",this.panel),this.btnNext=cc.find("buttons/btn_next",this.panel),this.btnRestart.on("click",this.onRestartClick,this),this.btnNext.on("click",this.onNextClick,this),this.btnClose=cc.find("btn_close",this.panel),this.btnClose.on("click",this.onCloseClick,this)},e.prototype.onDestroy=function(){this.btnRestart.off("click",this.onRestartClick,this),this.btnNext.off("click",this.onNextClick,this),this.btnClose.off("click",this.onCloseClick,this)},e.prototype.onEnable=function(){this.zoomIn(this.panel),l.default.instance.toggleBannerAd(!0),r.StaticInstance.uiManager.setMainTimer(!1),this.rendorKeys(),this.rendorPower(),this.rendorPowerTimer()},e.prototype.onDisable=function(){l.default.instance.toggleBannerAd(!1)},e.prototype.onRestartClick=function(){s.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),h.default.instance.power<=0?u.default.instance.show("\u80fd\u91cf\u5df2\u7528\u5b8c, \u8bf7\u5148\u8865\u5145\u80fd\u91cf",{gravity:"TOP",bg_color:cc.color(226,69,109,255)}):(h.default.instance.power-=1,h.default.instance.save(),r.StaticInstance.transitionsManager.play(c.ENUM_UI_TYPE.LOSE,null,function(){r.StaticInstance.gameManager.onGameLevelStart()}))},e.prototype.onNextClick=function(){s.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),l.default.instance.showVideoAd(function(t){l.default.instance.getPlatform()||u.default.instance.show(t,{gravity:"BOTTOM",bg_color:cc.color(102,202,28,255)});var e=h.default.instance.clevel+1;e=Math.min(e,h.CLEVEL_Data.length),h.default.instance.clevel=e,e>h.default.instance.clevelMax&&(h.default.instance.clevelMax=e),h.default.instance.save(),r.StaticInstance.transitionsManager.play(c.ENUM_UI_TYPE.LOSE,null,function(){r.StaticInstance.gameManager.onGameLevelStart()})},function(t){u.default.instance.show(t,{gravity:"BOTTOM",bg_color:cc.color(226,69,109,255)})})},e.prototype.onCloseClick=function(){s.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),r.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.MAIN_LEVEL,!1),r.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.LOSE,!1),r.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.MENU)},o([p],e)}(d.default));n.default=g,cc._RF.pop()},{"../Enum":"Enum","../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","../manager/SdkManager":"SdkManager","../manager/ToastManager":"ToastManager","./../StaticInstance":"StaticInstance","./HeaderLayer":"HeaderLayer"}],MainLayer:[function(t,e,n){"use strict";cc._RF.push(e,"995d75Ra29EXY7A+cLQ/Mrd","MainLayer");var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var a,o=arguments.length,c=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(c=(o<3?a(c):o>3?a(e,n,c):a(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Enum"),r=t("../manager/AudioManager"),s=t("../manager/DataManager"),l=t("../StaticInstance"),u=t("../Utils"),h=t("./Baselayer"),d=cc._decorator,f=d.ccclass,p=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnPause=null,e.levelUpNode=null,e.timerNum=null,e}return a(e,t),e.prototype.onLoad=function(){var t=this;this.btnPause=cc.find("btn_pause",this.node),this.btnPause.on("click",this.onPauseClick,this),this.levelUpNode=cc.find("level_up",this.node),this.timerNum=cc.find("bar_seconds/nums",this.node),this.skills=cc.find("skills",this.node),this.skills.children.forEach(function(e,n){e.on("click",function(){return t.onSkillClick(n)},t)}),this.skillTip=cc.find("skill_tip",this.node)},e.prototype.onDestroy=function(){this.btnPause.off("click",this.onPauseClick,this)},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e.prototype.onPauseClick=function(){r.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),l.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.EXIT)},e.prototype.setLevelUpNotice=function(){this.levelUpNode.stopAllActions(),this.levelUpNode.x=600;var t=cc.moveTo(.5,0,this.levelUpNode.y),e=cc.delayTime(1),n=cc.moveTo(.5,-600,this.levelUpNode.y),i=cc.sequence(t,e,n);cc.tween(this.levelUpNode).then(i).start()},e.prototype.setTimerRendor=function(){this.timerNum.getComponent(cc.Label).string=u.formatSeconds(""+s.default.instance.seconds,"h:i:s")},e.prototype.onTimerStart=function(){var t=this.timerNum.getComponent(cc.Label);this.unscheduleAllCallbacks(),this.schedule(function(){s.default.instance.seconds++,t.string=u.formatSeconds(""+s.default.instance.seconds,"h:i:s")},1)},e.prototype.onTimerStop=function(){this.unscheduleAllCallbacks()},e.prototype.onSkillClick=function(t){s.default.instance.isSkilling||(r.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),s.default.instance.skillIndex=t,l.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.SKILL_SUBMIT),l.StaticInstance.uiManager.setMainTimer(!1))},e.prototype.setSkillTip=function(){var t=this;if(this.skillTip.active=s.default.instance.isSkilling,s.default.instance.isSkilling){cc.find("content/tips",this.skillTip).children.forEach(function(t,e){t.active=s.default.instance.skillIndex==e});var e=cc.find("content/btn_close",this.skillTip);e.hasEventListener("click")||e.on("click",function(){r.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),t.skillTip.active=!1,s.default.instance.skillIndex=-1,s.default.instance.isSkilling=!1},this)}},o([f],e)}(h.default));n.default=p,cc._RF.pop()},{"../Enum":"Enum","../StaticInstance":"StaticInstance","../Utils":"Utils","../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","./Baselayer":"Baselayer"}],MainLevelLayer:[function(t,e,n){"use strict";cc._RF.push(e,"daf6cU2QC9IrIw7ec56vD8J","MainLevelLayer");var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var a,o=arguments.length,c=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(c=(o<3?a(c):o>3?a(e,n,c):a(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Enum"),r=t("../manager/AudioManager"),s=t("../manager/DataManager"),l=t("../manager/SdkManager"),u=t("../manager/ToastManager"),h=t("../StaticInstance"),d=t("./Baselayer"),f=cc._decorator,p=f.ccclass,g=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnPause=null,e.btnPass=null,e.crashNum=null,e.tip=null,e}return a(e,t),e.prototype.onLoad=function(){this.btnPause=cc.find("btn_pause",this.node),this.btnPause.on("click",this.onPauseClick,this),this.btnPass=cc.find("btn_pass",this.node),this.btnPass.on("click",this.onPassClick,this),this.crashNum=cc.find("bar_crash/nums",this.node),this.tip=cc.find("bar_crash/tip",this.node)},e.prototype.onDestroy=function(){this.btnPause.off("click",this.onPauseClick,this),this.btnPass.off("click",this.onPassClick,this)},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e.prototype.setCrashRendor=function(){var t=s.default.instance.crashTotal-s.default.instance.crashCurrent;t=Math.max(0,t),this.crashNum.getComponent(cc.Label).string=""+t},e.prototype.setLevelTip=function(){var t="\u8bf7\u5c06\u7ea2\u8272\u5c0f\u8f66\u632a\u51fa\u8f66\u5e93";s.default.instance.carNum>1&&(t="\u8bf7\u5c06\u6240\u6709\u8f66\u8f86\u632a\u51fa\u8f66\u5e93"),this.tip.getComponent(cc.Label).string=""+t},e.prototype.onPauseClick=function(){r.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),h.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.EXIT_LEVEL)},e.prototype.onPassClick=function(){r.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),l.default.instance.showVideoAd(function(t){if(l.default.instance.getPlatform()||u.default.instance.show(t,{gravity:"BOTTOM",bg_color:cc.color(102,202,28,255)}),s.default.instance.status==c.ENUM_GAME_STATUS.RUNING){s.default.instance.status=c.ENUM_GAME_STATUS.UNRUNING;var e=s.default.instance.clevel+1;e=Math.min(e,s.CLEVEL_Data.length),s.default.instance.clevel=e,e>s.default.instance.clevelMax&&(s.default.instance.clevelMax=e),s.default.instance.save(),h.StaticInstance.transitionsManager.play(null,null,function(){h.StaticInstance.gameManager.onGameLevelStart()})}},function(t){u.default.instance.show(t,{gravity:"BOTTOM",bg_color:cc.color(226,69,109,255)})})},o([p],e)}(d.default));n.default=g,cc._RF.pop()},{"../Enum":"Enum","../StaticInstance":"StaticInstance","../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","../manager/SdkManager":"SdkManager","../manager/ToastManager":"ToastManager","./Baselayer":"Baselayer"}],MenuLayer:[function(t,e,n){"use strict";cc._RF.push(e,"94d9eW2z5xN9KXMq6SiqvtZ","MenuLayer");var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var a,o=arguments.length,c=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(c=(o<3?a(c):o>3?a(e,n,c):a(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Enum"),r=t("./../StaticInstance"),s=t("../manager/AudioManager"),l=t("../manager/SdkManager"),u=t("../manager/ToastManager"),h=t("./HeaderLayer"),d=t("../manager/DataManager"),f=cc._decorator,p=f.ccclass,g=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnStartTimer=null,e.btnStartLevel=null,e.btnSetting=null,e.btnGames=null,e.btnShare=null,e.btnRank=null,e}return a(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.btnStartTimer=cc.find("buttons/btn_start_timer",this.node),this.btnStartLevel=cc.find("buttons/btn_start_level",this.node),this.btnSetting=cc.find("right/btn_setting",this.node),this.btnShare=cc.find("right/btn_share",this.node),this.btnGames=cc.find("btn_more",this.node),this.btnStartTimer.on("click",this.onStartTimerClick,this),this.btnStartLevel.on("click",this.onStartLevelClick,this),this.btnSetting.on("click",this.onSettingClick,this),this.btnGames.on("click",this.onGamesClick,this),this.btnShare.on("click",this.onShareClick,this),this.btnRank=cc.find("buttons/btn_rank",this.node),this.btnRank.on("click",this.onRankClick,this)},e.prototype.onDestroy=function(){this.btnStartTimer.off("click",this.onStartTimerClick,this),this.btnStartLevel.off("click",this.onStartLevelClick,this),this.btnSetting.off("click",this.onSettingClick,this),this.btnGames.off("click",this.onGamesClick,this),this.btnShare.off("click",this.onShareClick,this),this.btnRank.off("click",this.onRankClick,this)},e.prototype.onEnable=function(){this.rendorKeys(),this.rendorPower(),this.rendorPowerTimer()},e.prototype.onDisable=function(){},e.prototype.onStartTimerClick=function(){s.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),d.default.instance.power<=0?u.default.instance.show("\u80fd\u91cf\u5df2\u7528\u5b8c, \u8bf7\u5148\u8865\u5145\u80fd\u91cf",{gravity:"TOP",bg_color:cc.color(226,69,109,255)}):(d.default.instance.mode=c.ENUM_GAME_MODE.TIMER,d.default.instance.power-=1,d.default.instance.save(),r.StaticInstance.transitionsManager.play(c.ENUM_UI_TYPE.MENU,c.ENUM_UI_TYPE.MAIN,function(){r.StaticInstance.gameManager.onGameStart()}))},e.prototype.onStartLevelClick=function(){s.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),d.default.instance.power<=0?u.default.instance.show("\u80fd\u91cf\u5df2\u7528\u5b8c, \u8bf7\u5148\u8865\u5145\u80fd\u91cf",{gravity:"TOP",bg_color:cc.color(226,69,109,255)}):(d.default.instance.mode=c.ENUM_GAME_MODE.LEVEL,d.default.instance.power-=1,d.default.instance.save(),r.StaticInstance.transitionsManager.play(c.ENUM_UI_TYPE.MENU,c.ENUM_UI_TYPE.MAIN_LEVEL,function(){r.StaticInstance.gameManager.onGameLevelStart()}))},e.prototype.onSettingClick=function(){s.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),r.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.MENU,!1),r.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.SETTING)},e.prototype.onGamesClick=function(){s.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),r.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.MENU,!1),r.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.MORE)},e.prototype.onShareClick=function(){s.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),l.default.instance.getPlatform()?l.default.instance.activeShare():u.default.instance.show("\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0",{gravity:"TOP",bg_color:cc.color(226,69,109,255)})},e.prototype.onRankClick=function(){s.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),r.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.MENU,!1),r.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.RANK)},o([p],e)}(h.default));n.default=g,cc._RF.pop()},{"../Enum":"Enum","../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","../manager/SdkManager":"SdkManager","../manager/ToastManager":"ToastManager","./../StaticInstance":"StaticInstance","./HeaderLayer":"HeaderLayer"}],MoreLayer:[function(t,e,n){"use strict";cc._RF.push(e,"9152a3E4wFB0JCSs+5/fMuT","MoreLayer");var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var a,o=arguments.length,c=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(c=(o<3?a(c):o>3?a(e,n,c):a(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Enum"),r=t("./../StaticInstance"),s=t("../manager/AudioManager"),l=t("./Baselayer"),u=t("../manager/DataManager"),h=t("../manager/PoolManager"),d=t("../plugins/UIScrollControl"),f=t("../manager/ResourceManager"),p=t("../manager/SdkManager"),g=cc._decorator,y=g.ccclass,_=(g.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.panel=null,e.btnClose=null,e.scrollNode=null,e.scrollItem=null,e}return a(e,t),e.prototype.onLoad=function(){this.panel=cc.find("style/panel",this.node),this.btnClose=cc.find("btn_close",this.panel),this.scrollNode=cc.find("scroll",this.panel),this.scrollItem=h.default.instance.getNode("MoreItem"),this.btnClose.on("click",this.onCloseClick,this)},e.prototype.onDestroy=function(){this.btnClose.off("click",this.onCloseClick,this)},e.prototype.onEnable=function(){this.zoomIn(this.panel),this.rendor(),p.default.instance.toggleCustomRowAd(!0)},e.prototype.onDisable=function(){p.default.instance.toggleCustomRowAd(!1)},e.prototype.rendor=function(){var t=this,e=u.default.instance.games,n=!1;this.scrollNode.getComponent(d.default).init(this.scrollItem,e.length,cc.size(500,110),0,function(i,a){n||(n=!0,t.scrollNode.getComponent(cc.ScrollView).scrollToTop());var o=e[a];i.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=f.default.instance.getSprite(""+o.icon),i.getChildByName("title").getComponent(cc.Label).string=""+o.title,i.hasEventListener("click")?(i.off("click"),i.on("click",function(){t.onItemClick(o)},t)):i.on("click",function(){t.onItemClick(o)},t)},function(t){t.scrollToTop()})},e.prototype.onItemClick=function(t){var e="";void 0===window.wx?e=t.url:(s.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),e=t.appid),e&&p.default.instance.turnToApp(e)},e.prototype.onCloseClick=function(){s.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),r.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.MORE,!1),r.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.MENU)},o([y],e)}(l.default));n.default=_,cc._RF.pop()},{"../Enum":"Enum","../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","../manager/PoolManager":"PoolManager","../manager/ResourceManager":"ResourceManager","../manager/SdkManager":"SdkManager","../plugins/UIScrollControl":"UIScrollControl","./../StaticInstance":"StaticInstance","./Baselayer":"Baselayer"}],OverLayer:[function(t,e,n){"use strict";cc._RF.push(e,"b601bhCGWNK+ZoaczgoGYv3","OverLayer");var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var a,o=arguments.length,c=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(c=(o<3?a(c):o>3?a(e,n,c):a(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Enum"),r=t("./../StaticInstance"),s=t("../manager/AudioManager"),l=t("../manager/SdkManager"),u=t("../manager/ToastManager"),h=t("../manager/DataManager"),d=t("../Utils"),f=t("./HeaderLayer"),p=cc._decorator,g=p.ccclass,y=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.panel=null,e.btnRestart=null,e.btnShare=null,e.scoreNode=null,e.noticeNode=null,e.particles=null,e.btnClose=null,e}return a(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.panel=cc.find("style/panel",this.node),this.btnRestart=cc.find("buttons/btn_restart",this.panel),this.btnShare=cc.find("buttons/btn_share",this.panel),this.btnRestart.on("click",this.onRestartClick,this),this.btnShare.on("click",this.onShareClick,this),this.scoreNode=cc.find("score",this.panel),this.noticeNode=cc.find("notice",this.panel),this.particles=cc.find("particles",this.panel),this.btnClose=cc.find("btn_close",this.panel),this.btnClose.on("click",this.onCloseClick,this)},e.prototype.onDestroy=function(){this.btnRestart.off("click",this.onRestartClick,this),this.btnShare.off("click",this.onShareClick,this),this.btnClose.off("click",this.onCloseClick,this)},e.prototype.onEnable=function(){this.zoomIn(this.panel),l.default.instance.toggleBannerAd(!0),r.StaticInstance.uiManager.setMainTimer(!1),this.rendorKeys(),this.rendorPower(),this.rendorPowerTimer(),this.rendorScore()},e.prototype.onDisable=function(){l.default.instance.toggleBannerAd(!1)},e.prototype.rendorScore=function(){this.scoreNode.getComponent(cc.Label).string=""+d.formatSeconds(h.default.instance.seconds,"h:i:s"),h.default.instance.seconds<h.default.instance.secondsRecord?(h.default.instance.secondsRecord=h.default.instance.seconds,h.default.instance.save(),l.default.instance.setRank(h.default.instance.secondsRecord),this.noticeNode.active=!0,this.particles.children.forEach(function(t){t.getComponent(cc.ParticleSystem).resetSystem()})):this.noticeNode.active=!1},e.prototype.onRestartClick=function(){s.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),r.StaticInstance.transitionsManager.play(c.ENUM_UI_TYPE.OVER,null,function(){r.StaticInstance.gameManager.onGameStart()})},e.prototype.onShareClick=function(){s.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),l.default.instance.getPlatform()?l.default.instance.activeShare():u.default.instance.show("\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0",{gravity:"TOP",bg_color:cc.color(226,69,109,255)})},e.prototype.onCloseClick=function(){s.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),r.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.MAIN,!1),r.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.OVER,!1),r.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.MENU)},o([g],e)}(f.default));n.default=y,cc._RF.pop()},{"../Enum":"Enum","../Utils":"Utils","../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","../manager/SdkManager":"SdkManager","../manager/ToastManager":"ToastManager","./../StaticInstance":"StaticInstance","./HeaderLayer":"HeaderLayer"}],PoolManager:[function(t,e,n){"use strict";cc._RF.push(e,"a46f4A6CpBE04BZI8Amk1vE","PoolManager"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(){this._dictPool={},this._dictPrefab={}}return t.getInstance=function(){return null===this._instance&&(this._instance=new this),this._instance},Object.defineProperty(t,"instance",{get:function(){return this.getInstance()},enumerable:!1,configurable:!0}),t.prototype.copyNode=function(t,e){var n=t.name;this._dictPrefab[n]=t;var i=null;if(this._dictPool.hasOwnProperty(n))i=(a=this._dictPool[n]).size()>0?a.get():cc.instantiate(t);else{var a=new cc.NodePool;this._dictPool[n]=a,i=cc.instantiate(t)}return e&&(i.parent=e,i.active=!0),i},t.prototype.getNode=function(t,e,n){var i,a;if("string"==typeof t){if(a=t,!(i=this._dictPrefab[t]))return console.log("Pool invalid prefab name = ",a),null}else i=t,a=t.data.name;var o=null;if(this._dictPool.hasOwnProperty(a))o=(c=this._dictPool[a]).size()>0?c.get():cc.instantiate(i);else{var c=new cc.NodePool;this._dictPool[a]=c,o=cc.instantiate(i)}return e&&(o.parent=e,o.active=!0,n&&(o.position=n)),o},t.prototype.putNode=function(t,e){if(void 0===e&&(e=!1),t){var n=t.name,i=null;this._dictPool.hasOwnProperty(n)?i=this._dictPool[n]:(i=new cc.NodePool,this._dictPool[n]=i),i.put(t)}},t.prototype.clearPool=function(t){this._dictPool.hasOwnProperty(t)&&this._dictPool[t].clear()},t.prototype.setPrefab=function(t,e){this._dictPrefab[t]=e},t.prototype.getPrefab=function(t){return this._dictPrefab[t]},t._instance=null,t}();n.default=i,cc._RF.pop()},{}],RankLayer:[function(t,e,n){"use strict";cc._RF.push(e,"108f1JDJNpC3oswOrUOz57p","RankLayer");var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var a,o=arguments.length,c=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(c=(o<3?a(c):o>3?a(e,n,c):a(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Enum"),r=t("./Baselayer"),s=t("../manager/AudioManager"),l=t("../manager/SdkManager"),u=t("./../StaticInstance"),h=t("../manager/ToastManager"),d=cc._decorator,f=d.ccclass,p=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.panel=null,e.btnClose=null,e.btnShare=null,e}return a(e,t),e.prototype.onLoad=function(){this.panel=cc.find("style/panel",this.node),this.btnClose=cc.find("btn_close",this.panel),this.btnShare=cc.find("btn_share",this.panel),this.btnClose.on("click",this.onCloseClick,this),this.btnShare.on("click",this.onShareClick,this)},e.prototype.onDestroy=function(){this.btnClose.off("click",this.onCloseClick,this),this.btnShare.off("click",this.onShareClick,this)},e.prototype.onEnable=function(){this.zoomIn(this.panel),l.default.instance.getRank(),l.default.instance.showInterstitialAd()},e.prototype.onDisable=function(){},e.prototype.onCloseClick=function(){s.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),u.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.RANK,!1),u.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.MENU)},e.prototype.onShareClick=function(){s.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),l.default.instance.getPlatform()?l.default.instance.activeShare():h.default.instance.show("\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0",{gravity:"TOP",bg_color:cc.color(226,69,109,255)})},o([f],e)}(r.default));n.default=p,cc._RF.pop()},{"../Enum":"Enum","../manager/AudioManager":"AudioManager","../manager/SdkManager":"SdkManager","../manager/ToastManager":"ToastManager","./../StaticInstance":"StaticInstance","./Baselayer":"Baselayer"}],ResourceManager:[function(t,e,n){"use strict";cc._RF.push(e,"ab2a6CEvxhMQ77c3CMn4zMe","ResourceManager");var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(a,o){function c(t){try{s(i.next(t))}catch(e){o(e)}}function r(t){try{s(i.throw(t))}catch(e){o(e)}}function s(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(c,r)}s((i=i.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,i,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function r(t){return function(e){return s([t,e])}}function s(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,i&&(a=2&o[0]?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,i=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=e.call(t,c)}catch(r){o=[6,r],i=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var o=t("./DataManager"),c=t("./PoolManager"),r=function(){function t(){this.clipMap={},this.spriteMap={},this.jsonMap={}}return t.getInstance=function(){return null===this._instance&&(this._instance=new this),this._instance},Object.defineProperty(t,"instance",{get:function(){return this.getInstance()},enumerable:!1,configurable:!0}),t.prototype.loadRes=function(t,e){return void 0===e&&(e=0),i(this,void 0,void 0,function(){var e=this;return a(this,function(){return[2,new Promise(function(n,i){var a=o.default.instance.loadingRate;cc.resources.loadDir(t.path,t.content,function(e,n){if(t.ratio>0){var i=Math.floor(100*(a+t.ratio*e/n))/100;o.default.instance.loadingRate=Math.max(i,o.default.instance.loadingRate)}},function(a,o){var r;if(a&&i&&i(),"audio"==t.type)for(var s=0;s<o.length;s++)r=o[s],e.clipMap[r.name]||(e.clipMap[r.name]=r);if("prefab"==t.type)for(s=0;s<o.length;s++)r=o[s],c.default.instance.setPrefab(r.data.name,r);if("sprite"==t.type)for(s=0;s<o.length;s++)r=o[s],e.spriteMap[r.name]||(e.spriteMap[r.name]=r);if("json"==t.type)for(s=0;s<o.length;s++)r=o[s],e.jsonMap[r.name]||(e.jsonMap[r.name]=r.json);n&&n()})})]})})},t.prototype.getClip=function(t){return this.clipMap[t]},t.prototype.getSprite=function(t){return this.spriteMap[t]},t.prototype.getJson=function(t){return this.jsonMap[t]},t._instance=null,t}();n.default=r,cc._RF.pop()},{"./DataManager":"DataManager","./PoolManager":"PoolManager"}],SdkManager:[function(t,e,n){"use strict";cc._RF.push(e,"63001T9hINHxKQXF9QDpdaI","SdkManager"),Object.defineProperty(n,"__esModule",{value:!0});var i=t("./AudioManager"),a=function(){function t(){this.shareTitle="\u597d\u73a9\u4e0a\u5934\u7684\u6e38\u620f\uff0c\u4f60\u6562\u63a5\u53d7\u6311\u6218\u5417\uff1f",this.shareImg="https://download.cocos.com/CocosStore/icon/c37196c9605d453798e9592204329c75/c37196c9605d453798e9592204329c75.png",this.videoId="",this.videoAd=null,this.interstitialId="",this.interstitialAd=null,this.bannerId="",this.bannerAd=null,this.customRowId="",this.customRowAd=null,this.customColId="",this.customColAd=null}return Object.defineProperty(t,"instance",{get:function(){return null==this._instance&&(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),t.prototype.getPlatform=function(){var t=null;return cc.sys.platform==cc.sys.WECHAT_GAME?t=window.wx:cc.sys.platform==cc.sys.BYTEDANCE_GAME&&(t=window.tt),t},t.prototype.activeShare=function(t){void 0===t&&(t={title:"",imageUrl:"",query:""});var e=this.getPlatform();e?(t.title=t.title||this.shareTitle,t.imageUrl=t.imageUrl||this.shareImg,e.shareAppMessage(t)):console.log("\u3010\u4e3b\u52a8\u5206\u4eab\u3011\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0!")},t.prototype.passiveShare=function(t){void 0===t&&(t={title:"",imageUrl:"",query:""});var e=this.getPlatform();e?(e.showShareMenu({success:function(){},fail:function(){}}),t.title=t.title||this.shareTitle,t.imageUrl=t.imageUrl||this.shareImg,e.onShareAppMessage(function(){return t})):console.log("\u3010\u88ab\u52a8\u5206\u4eab\u3011\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0!")},t.prototype.getShareQuery=function(t){var e=this.getPlatform();if(e){var n=e.getLaunchOptionsSync().query,i=null;return n&&n[t]&&(i=n[t]),i}console.log("\u3010\u5206\u4eab\u53c2\u6570\u83b7\u53d6\u3011\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0!")},t.prototype.turnToApp=function(t){if(""!=t){var e=this.getPlatform();e?e.navigateToMiniProgram({appId:t}):this.turnToBrowser(t)}},t.prototype.turnToBrowser=function(t){window.open(t)},t.prototype.initAudioEndListener=function(){void 0!==window.wx?window.wx.onAudioInterruptionEnd(function(){console.log("\u97f3\u9891\u4e2d\u65ad\uff0c\u6062\u590d\u64ad\u653e"),i.default.instance.playMusic()}):console.log("\u3010\u97f3\u9891\u4e2d\u65ad\u76d1\u542c\u3011\u4ec5\u652f\u6301\u5fae\u4fe1\u5e73\u53f0!")},t.prototype.initBannerAd=function(){var t=this,e=this.getPlatform();if(e)if(""!=this.bannerId){var n=e.getSystemInfoSync();null==this.bannerAd&&(this.bannerAd=e.createBannerAd({adUnitId:this.bannerId,adIntervals:10,style:{height:n.windowHeight-80,left:0,top:500,width:n.windowWidth}}),this.bannerAd.onResize(function(){t.bannerAd.style.top=n.windowHeight-t.bannerAd.style.realHeight,t.bannerAd.style.left=n.windowWidth/2-t.bannerAd.style.realWidth/2}),this.bannerAd.onError(function(){console.error("\u3010\u6d41\u91cf\u4e3b\u6a2a\u5e45\u3011\u521d\u59cb\u5316\u6709\u8bef")}))}else console.log("\u3010\u6d41\u91cf\u4e3b\u3011\u8bf7\u914d\u7f6e\u6a2a\u5e45\u5e7f\u544aID");else console.log("\u3010\u6d41\u91cf\u4e3b\u6a2a\u5e45\u521d\u59cb\u5316\u3011\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0!")},t.prototype.toggleBannerAd=function(t){this.getPlatform()?this.bannerAd&&(t?this.bannerAd.show():this.bannerAd.hide()):console.log("\u3010\u6d41\u91cf\u4e3b\u6a2a\u5e45:"+t+"\u3011\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0!")},t.prototype.initInterstitialAd=function(){var t=this.getPlatform();t?""!=this.interstitialId?null==this.interstitialAd&&(this.interstitialAd=t.createInterstitialAd({adUnitId:this.interstitialId}),this.interstitialAd.onError(function(){console.error("\u3010\u6d41\u91cf\u4e3b\u63d2\u5c4f\u3011\u521d\u59cb\u5316\u6709\u8bef")})):console.log("\u3010\u6d41\u91cf\u4e3b\u3011\u8bf7\u914d\u7f6e\u63d2\u5c4f\u5e7f\u544aID"):console.log("\u3010\u6d41\u91cf\u4e3b\u63d2\u5c4f\u521d\u59cb\u5316\u3011\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0!")},t.prototype.showInterstitialAd=function(){this.getPlatform()?this.interstitialAd&&this.interstitialAd.show().catch(function(){console.error("\u3010\u6d41\u91cf\u4e3b\u63d2\u5c4f\u3011\u52a0\u8f7d\u5931\u8d25")}):console.log("\u3010\u6d41\u91cf\u4e3b\u63d2\u5c4f\u3011\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0!")},t.prototype.initVideoAd=function(){var t=this.getPlatform();t?""!=this.videoId?null==this.videoAd&&(this.videoAd=t.createRewardedVideoAd({adUnitId:this.videoId}),this.videoAd.onError(function(){console.error("\u3010\u6d41\u91cf\u4e3b\u6fc0\u52b1\u3011\u521d\u59cb\u5316\u6709\u8bef")})):console.log("\u3010\u6d41\u91cf\u4e3b\u3011\u8bf7\u914d\u7f6e\u6fc0\u52b1\u89c6\u9891\u5e7f\u544aID"):console.log("\u3010\u6d41\u91cf\u4e3b\u6fc0\u52b1\u521d\u59cb\u5316\u3011\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0!")},t.prototype.showVideoAd=function(t,e){var n=this;return this.getPlatform()?this.videoAd?(this.videoAd.offClose(),this.videoAd.onClose(function(i){return n.videoAd.offClose(),i&&i.isEnded||void 0===i?t&&t("\u6fc0\u52b1\u5956\u52b1\u5df2\u53d1\u653e"):e&&e("\u89c6\u9891\u64ad\u653e\u4e2d\u65ad")}),void this.videoAd.show().catch(function(){n.videoAd.load().then(function(){return n.videoAd.show()}).catch(function(){console.log("\u5e7f\u544a\u5c55\u793a\u5931\u8d25")})})):e&&e("\u8be5\u529f\u80fd\u5c1a\u672a\u5f00\u653e"):t&&t("\u6a21\u62df\u6210\u529f\uff0c\u6fc0\u52b1\u5956\u52b1\u5df2\u53d1\u653e")},t.prototype.initCustomRowAd=function(){var t=this.getPlatform();if(t)if(""!=this.customRowId){var e=t.getSystemInfoSync();null==this.customRowAd&&(this.customRowAd=t.createCustomAd({adUnitId:this.customRowId,style:{width:320,left:(e.screenWidth-320)/2,top:e.screenHeight-50,fixed:0}}),this.customRowAd.onError(function(){console.error("\u3010\u6d41\u91cf\u4e3b\u6a2a\u5411\u683c\u5b50\u3011\u521d\u59cb\u5316\u6709\u8bef")}))}else console.log("\u3010\u6d41\u91cf\u4e3b\u3011\u8bf7\u914d\u7f6e\u6a2a\u5411\u683c\u5b50\u5e7f\u544aID");else console.log("\u3010\u6a2a\u5411\u683c\u5b50\u521d\u59cb\u5316\u3011\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0!")},t.prototype.toggleCustomRowAd=function(t){void 0===t&&(t=!0),this.getPlatform()?this.customRowAd&&(t?this.customRowAd.show():this.customRowAd.hide()):console.log("\u3010\u6d41\u91cf\u4e3b\u6a2a\u5411\u683c\u5b50:"+t+"\u3011\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0!")},t.prototype.initCustomColAd=function(){var t=this.getPlatform();if(t)if(""!=this.customColId){var e=t.getSystemInfoSync();null==this.customColAd&&(this.customColAd=t.createCustomAd({adUnitId:this.customColId,style:{width:150,left:e.screenWidth-75,top:(e.screenHeight-380)/2,fixed:0}}),this.customColAd.onError(function(){console.error("\u3010\u6d41\u91cf\u4e3b\u7eb5\u5411\u683c\u5b50\u3011\u521d\u59cb\u5316\u6709\u8bef")}))}else console.log("\u3010\u6d41\u91cf\u4e3b\u3011\u8bf7\u914d\u7f6e\u7eb5\u5411\u683c\u5b50\u5e7f\u544aID");else console.log("\u3010\u7eb5\u5411\u683c\u5b50\u521d\u59cb\u5316\u3011\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0!")},t.prototype.toggleCustomColAd=function(t){void 0===t&&(t=!0),this.getPlatform()?this.customColAd&&(t?this.customColAd.show():this.customColAd.hide()):console.log("\u3010\u6d41\u91cf\u4e3b\u7eb5\u5411\u683c\u5b50:"+t+"\u3011\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0!")},t.prototype.getRank=function(){void 0!==window.wx?window.wx.postMessage({event:"getRank"}):console.log("\u3010\u83b7\u53d6\u6392\u540d\u3011\u4ec5\u652f\u6301\u5fae\u4fe1\u5e73\u53f0!")},t.prototype.setRank=function(t){void 0!==window.wx?window.wx.postMessage({event:"setRank",data:t}):console.log("\u3010\u8bbe\u7f6e\u6392\u540d\u3011\u4ec5\u652f\u6301\u5fae\u4fe1\u5e73\u53f0!",t)},t._instance=null,t}();n.default=a,cc._RF.pop()},{"./AudioManager":"AudioManager"}],SettingLayer:[function(t,e,n){"use strict";cc._RF.push(e,"1a0aacxZX5NJqNTuBy0vbq5","SettingLayer");var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var a,o=arguments.length,c=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(c=(o<3?a(c):o>3?a(e,n,c):a(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Enum"),r=t("./../StaticInstance"),s=t("../manager/AudioManager"),l=t("./Baselayer"),u=t("../manager/DataManager"),h=t("../manager/SdkManager"),d=cc._decorator,f=d.ccclass,p=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.panel=null,e.btnMusic=null,e.btnSound=null,e.btnClose=null,e}return a(e,t),e.prototype.onLoad=function(){this.panel=cc.find("style/panel",this.node),this.btnMusic=cc.find("buttons/btn_music",this.panel),this.btnSound=cc.find("buttons/btn_sound",this.panel),this.btnClose=cc.find("btn_close",this.panel),this.btnMusic.on("click",this.onMusicClick,this),this.btnSound.on("click",this.onSoundClick,this),this.btnClose.on("click",this.onCloseClick,this)},e.prototype.onDestroy=function(){this.btnMusic.off("click",this.onMusicClick,this),this.btnSound.off("click",this.onSoundClick,this),this.btnClose.off("click",this.onCloseClick,this)},e.prototype.onEnable=function(){this.zoomIn(this.panel),this.rendorMusic(),this.rendorSound(),h.default.instance.showInterstitialAd()},e.prototype.onDisable=function(){},e.prototype.onCloseClick=function(){s.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),r.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.SETTING,!1),r.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.MENU)},e.prototype.onSoundClick=function(){s.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),u.default.instance.isSoundOn=!u.default.instance.isSoundOn,u.default.instance.save(),this.rendorSound()},e.prototype.onMusicClick=function(){s.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),u.default.instance.isMusicOn=!u.default.instance.isMusicOn,u.default.instance.save(),u.default.instance.isMusicOn?s.default.instance.playMusic():s.default.instance.stopMusic(),this.rendorMusic()},e.prototype.rendorMusic=function(){this.btnMusic.getChildByName("on").active=u.default.instance.isMusicOn,this.btnMusic.getChildByName("off").active=!u.default.instance.isMusicOn},e.prototype.rendorSound=function(){this.btnSound.getChildByName("on").active=u.default.instance.isSoundOn,this.btnSound.getChildByName("off").active=!u.default.instance.isSoundOn},o([f],e)}(l.default));n.default=p,cc._RF.pop()},{"../Enum":"Enum","../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","../manager/SdkManager":"SdkManager","./../StaticInstance":"StaticInstance","./Baselayer":"Baselayer"}],SkillSubmitLayer:[function(t,e,n){"use strict";cc._RF.push(e,"6b418F4XphICoiUh3ydxQ2P","SkillSubmitLayer");var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var a,o=arguments.length,c=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(c=(o<3?a(c):o>3?a(e,n,c):a(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Enum"),r=t("./../StaticInstance"),s=t("../manager/AudioManager"),l=t("../manager/SdkManager"),u=t("../manager/DataManager"),h=t("./HeaderLayer"),d=t("../manager/ToastManager"),f=cc._decorator,p=f.ccclass,g=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.style=null,e.btnSubmit=null,e.btnClose=null,e}return a(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.style=cc.find("style",this.node)},e.prototype.onDestroy=function(){},e.prototype.onEnable=function(){l.default.instance.showInterstitialAd(),this.rendorPower(),this.rendorPowerTimer(),this.rendorKeys(),this.rendorPanel()},e.prototype.onDisable=function(){},e.prototype.rendorPanel=function(){var t=null;this.style.children.forEach(function(e,n){n==u.default.instance.skillIndex&&(t=e),e.active=n==u.default.instance.skillIndex}),this.zoomIn(t);var e=t.getChildByName("btn_close"),n=t.getChildByName("btn_submit");e.hasEventListener("click")||e.on("click",this.onCloseClick,this);var i=0;u.default.instance.skillIndex>1&&(i=1),n.getChildByName("icon_key").active=!(u.default.instance.keys<=i),n.getChildByName("icon_video").active=u.default.instance.keys<=i,n.hasEventListener("click")||n.on("click",this.onSubmitClick,this)},e.prototype.onCloseClick=function(){s.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),r.StaticInstance.uiManager.setMainTimer(),r.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.SKILL_SUBMIT,!1)},e.prototype.onSubmitClick=function(){s.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK);var t=0;u.default.instance.skillIndex>1&&(t=1),u.default.instance.keys<=t?l.default.instance.showVideoAd(function(t){l.default.instance.getPlatform()||d.default.instance.show(t,{gravity:"TOP",bg_color:cc.color(102,202,28,255)}),u.default.instance.isSkilling=!0,r.StaticInstance.uiManager.setMainSkillTip(),r.StaticInstance.uiManager.setMainTimer(!0),r.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.SKILL_SUBMIT,!1)},function(t){d.default.instance.show(t,{gravity:"TOP",bg_color:cc.color(226,69,109,255)})}):(u.default.instance.keys-=t+1,u.default.instance.isSkilling=!0,r.StaticInstance.uiManager.setMainSkillTip(),r.StaticInstance.uiManager.setMainTimer(!0),r.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.SKILL_SUBMIT,!1))},o([p],e)}(h.default));n.default=g,cc._RF.pop()},{"../Enum":"Enum","../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","../manager/SdkManager":"SdkManager","../manager/ToastManager":"ToastManager","./../StaticInstance":"StaticInstance","./HeaderLayer":"HeaderLayer"}],StaticInstance:[function(t,e,n){"use strict";cc._RF.push(e,"93f9fIyowFCpoTxHvXyssyM","StaticInstance"),Object.defineProperty(n,"__esModule",{value:!0}),n.StaticInstance=void 0;var i=function(){function t(){}return t.setUIManager=function(e){t.uiManager=e},t.setGameManager=function(e){t.gameManager=e},t.setTransitionManager=function(e){t.transitionsManager=e},t.uiManager=void 0,t.gameManager=void 0,t.transitionsManager=void 0,t}();n.StaticInstance=i,cc._RF.pop()},{}],ToastManager:[function(t,e,n){"use strict";cc._RF.push(e,"65526wGEY1OtL0HXs6ylAE2","ToastManager"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(){}return t.getInstance=function(){return null===this._instance&&(this._instance=new this),this._instance},Object.defineProperty(t,"instance",{get:function(){return this.getInstance()},enumerable:!1,configurable:!0}),t.prototype.show=function(t,e){void 0===t&&(t="");var n=void 0===e?{}:e,i=n.gravity,a=void 0===i?"CENTER":i,o=n.duration,c=void 0===o?1:o,r=n.bg_color,s=void 0===r?cc.color(102,102,102,200):r,l=cc.director.getScene().getComponentInChildren(cc.Canvas),u=l.node.width,h=l.node.height,d=new cc.Node;d.group="ui";var f=new cc.Node,p=f.addComponent(cc.Label);p.horizontalAlign=cc.Label.HorizontalAlign.CENTER,p.verticalAlign=cc.Label.VerticalAlign.CENTER,p.fontSize=30,p.string=t,t.length*p.fontSize>3*u/5?(f.width=3*u/5,p.overflow=cc.Label.Overflow.RESIZE_HEIGHT):f.width=t.length*p.fontSize;var g=1+~~(t.length*p.fontSize/(3*u/5));f.height=p.fontSize*g;var y=d.addComponent(cc.Graphics);y.arc(-f.width/2,0,f.height/2+20,.5*Math.PI,1.5*Math.PI,!0),y.lineTo(f.width/2,-(f.height/2+20)),y.arc(f.width/2,0,f.height/2+20,1.5*Math.PI,.5*Math.PI,!0),y.lineTo(-f.width/2,f.height/2+20),y.fillColor=s,y.fill(),d.addChild(f),"CENTER"===a?(d.y=0,d.x=0):"TOP"===a?d.y=d.y+h/5*2:"BOTTOM"===a&&(d.y=d.y-h/5*2),l.node.addChild(d);var _=cc.callFunc(function(){d.destroy()}),M=cc.sequence(cc.moveBy(c,cc.v2(0,0)),cc.fadeOut(.3),_);cc.tween(d).then(M).start()},t._instance=null,t}();n.default=i,cc._RF.pop()},{}],UIManager:[function(t,e,n){"use strict";cc._RF.push(e,"d8b44067ShG7IzfSj2CqGMD","UIManager");var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var a,o=arguments.length,c=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(c=(o<3?a(c):o>3?a(e,n,c):a(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./../Enum"),r=t("./../StaticInstance"),s=t("./PoolManager"),l=cc._decorator,u=l.ccclass,h=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.uiMap=new Map,e}return a(e,t),e.prototype.onLoad=function(){r.StaticInstance.setUIManager(this)},e.prototype.init=function(){for(var t in c.ENUM_UI_TYPE){var e=s.default.instance.getNode(c.ENUM_UI_TYPE[t],this.node);e&&!this.uiMap.has(c.ENUM_UI_TYPE[t])&&(e.active=!1,e.addComponent(c.ENUM_UI_TYPE[t]),this.uiMap.set(c.ENUM_UI_TYPE[t],e.getComponent(c.ENUM_UI_TYPE[t])))}},e.prototype.toggle=function(t,e,n){if(void 0===e&&(e=!0),this.uiMap.has(t)){var i=this.uiMap.get(t);e?i.show():i.hide(),n&&n()}},e.prototype.isActive=function(t){return!!this.uiMap.has(t)&&this.uiMap.get(t).node.active},e.prototype.getActiveTypes=function(){var t=this,e=[];return this.uiMap.forEach(function(n,i){t.isActive(i)&&e.push(i)}),e},e.prototype.setMainLevelUpNotice=function(){var t=this.uiMap.get(c.ENUM_UI_TYPE.MAIN);null==t||t.setLevelUpNotice()},e.prototype.setMainTimer=function(t){void 0===t&&(t=!0);var e=this.uiMap.get(c.ENUM_UI_TYPE.MAIN);t?null==e||e.onTimerStart():null==e||e.onTimerStop()},e.prototype.setMainTimerRendor=function(){var t=this.uiMap.get(c.ENUM_UI_TYPE.MAIN);null==t||t.setTimerRendor()},e.prototype.setMainSkillTip=function(){var t=this.uiMap.get(c.ENUM_UI_TYPE.MAIN);null==t||t.setSkillTip()},e.prototype.setMainLevelCrash=function(){var t=this.uiMap.get(c.ENUM_UI_TYPE.MAIN_LEVEL);null==t||t.setCrashRendor()},e.prototype.setMainLevelTip=function(){var t=this.uiMap.get(c.ENUM_UI_TYPE.MAIN_LEVEL);null==t||t.setLevelTip()},o([u],e)}(cc.Component));n.default=h,cc._RF.pop()},{"./../Enum":"Enum","./../StaticInstance":"StaticInstance","./PoolManager":"PoolManager"}],UIScrollControl:[function(t,e,n){"use strict";cc._RF.push(e,"e6235MOwRpI+bzS2hVblkfN","UIScrollControl");var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var a,o=arguments.length,c=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(c=(o<3?a(c):o>3?a(e,n,c):a(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0}),n.ENUM_SCROLL_DIR=void 0;var c,r=cc._decorator,s=r.ccclass;r.property,function(t){t[t.V=0]="V",t[t.H=1]="H"}(c=n.ENUM_SCROLL_DIR||(n.ENUM_SCROLL_DIR={}));var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollView=null,e.contentSize=null,e.scrollDirection=c.V,e.totalCount=0,e.itemCount=0,e.childrenList=[],e.itemDistance=0,e.contentSizeStart=null,e.isStartFlag=!1,e.theMaxID=0,e.refreshCB=null,e}return a(e,t),e.prototype.init=function(t,e,n,i,a,o){if(a&&(this.refreshCB=a),0==this.isStartFlag){if(this.scrollView=this.node.getComponent(cc.ScrollView),null==this.scrollView||null==this.scrollView.content)return;this.scrollView.content.parent.setAnchorPoint(cc.v2(.5,.5));var r=this.scrollView.content.parent.getComponent(cc.Widget);null==r&&(r=this.scrollView.content.parent.addComponent(cc.Widget)),r.isAlignLeft=!0,r.left=0,r.isAlignRight=!0,r.right=0,r.isAlignTop=!0,r.top=0,r.isAlignBottom=!0,r.bottom=0,this.contentSize=new cc.Size(this.scrollView.node.getContentSize()),this.scrollView.content.setContentSize(this.contentSize),this.contentSizeStart=this.scrollView.content.getContentSize()}if(null!=t){if(this.scrollView.content.setContentSize(this.contentSizeStart),this.clear(),this.totalCount=e,this.scrollDirection=i,i==c.V){this.scrollView.content.setAnchorPoint(cc.v2(.5,1)),this.scrollView.content.setContentSize(cc.size(this.contentSizeStart.width,this.totalCount*n.height)),this.scrollView.content.setPosition(cc.v2(0,-this.totalCount*n.height/2));var s=Math.floor(this.contentSizeStart.height/n.height);this.itemCount=s+2,this.totalCount<=this.itemCount&&(this.itemCount=this.totalCount),this.itemDistance=n.height}else i==c.H&&(this.scrollView.content.setAnchorPoint(cc.v2(0,.5)),this.scrollView.content.setContentSize(cc.size(this.totalCount*n.width,this.contentSizeStart.height)),this.scrollView.content.setPosition(cc.v2(this.totalCount*n.width/2,0)),s=Math.floor(this.contentSizeStart.width/n.width),this.itemCount=s+2,this.totalCount<=this.itemCount&&(this.itemCount=this.totalCount),this.itemDistance=n.width);if(this.scrollView.scrollEvents.length<=0){var l=new cc.Component.EventHandler;l.target=this.node,l.component="UIScrollControl",l.handler="OnScroll",this.scrollView.scrollEvents.push(l)}this.isStartFlag,this.theMaxID=0,this.initShowAreaItems(t,o)}},e.prototype.clear=function(){this.scrollView.content.removeAllChildren(),this.childrenList=[]},e.prototype.initShowAreaItems=function(t,e){for(var n=0;n<this.itemCount;n++){var i=cc.v2(0,0),a=cc.instantiate(t);this.scrollView.content.addChild(a),a.active=!0,a.opacity=255,this.scrollDirection==c.V?i.y=-this.itemDistance/2-this.itemDistance*n:this.scrollDirection==c.H&&(i.x=this.itemDistance/2+this.itemDistance*n),a.name="cell_"+n,a.setAnchorPoint(cc.v2(.5,.5)),a.setPosition(i),this.onRefresh(a,n,n),this.childrenList.push(a)}e&&e(this.scrollView)},e.prototype.OnScroll=function(){var t=this.scrollView.getScrollOffset(),e=0;this.scrollDirection==c.V?e=t.y:this.scrollDirection==c.H&&(e=-t.x),this.refreshLayout(e)},e.prototype.refreshLayout=function(t){var e=t,n=this.totalCount*this.itemDistance;if(!(e<0||e+this.contentSize.height>=n)){for(var i=0,a=Math.floor(e/this.itemDistance),o=0;o<this.itemCount;o++){var c=this.childrenList[o];i=a+o,this.refreshItem(i,o,c)}this.theMaxID=a+this.itemCount}},e.prototype.refreshItem=function(t,e,n){if(!(t<0||t>=this.totalCount)&&null!=n){var i=cc.Vec2.ZERO;this.scrollDirection==c.H?i.x=this.itemDistance/2+this.itemDistance*t:this.scrollDirection==c.V&&(i.y=-this.itemDistance/2-this.itemDistance*t),n.setPosition(i),this.onRefresh(n,t,e)}},e.prototype.onRefresh=function(t,e,n){null!=this.refreshCB&&this.refreshCB(t,e,n)},o([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],UITransitionControl:[function(t,e,n){"use strict";cc._RF.push(e,"9cf23gaAJRJjq5LNOVK5EiX","UITransitionControl");var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var a,o=arguments.length,c=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(c=(o<3?a(c):o>3?a(e,n,c):a(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../StaticInstance"),r=cc._decorator,s=r.ccclass,l=r.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.transitionTime=.3,e.mask=null,e.img=null,e.scale=0,e}return a(e,t),e.prototype.onLoad=function(){c.StaticInstance.setTransitionManager(this);var t=cc.winSize;this.mask=this.node.getComponent(cc.Mask),this.img=this.node.getChildByName("img"),this.img.width=t.width,this.img.height=t.height;var e=Math.max(t.width,t.height);this.scale=e/this.node.width,this.node.scale=this.scale},e.prototype.play=function(t,e,n,i){var a=this;void 0===t&&(t=null),void 0===e&&(e=null),this.img.opacity=255;var o=cc.scaleTo(this.transitionTime,1),r=cc.callFunc(function(){t&&c.StaticInstance.uiManager.toggle(t,!1),e&&c.StaticInstance.uiManager.toggle(e),n&&n()}),s=cc.scaleTo(this.transitionTime,this.scale),l=cc.callFunc(function(){a.img.opacity=0,i&&i()}),u=cc.sequence(o,r,s,l);cc.tween(this.node).then(u).start()},e.prototype.onStart=function(t,e,n){var i=this;void 0===t&&(t=null),void 0===e&&(e=null),this.img.opacity=255;var a=cc.scaleTo(this.transitionTime,1),o=cc.callFunc(function(){i.mask.enabled=!1,t&&c.StaticInstance.uiManager.toggle(t,!1),e&&c.StaticInstance.uiManager.toggle(e),n&&n()}),r=cc.sequence(a,o);cc.tween(this.node).then(r).start()},e.prototype.onEnd=function(){var t=this;this.scheduleOnce(function(){t.mask.enabled=!0;var e=cc.scaleTo(t.transitionTime,t.scale),n=cc.callFunc(function(){t.img.opacity=0}),i=cc.sequence(e,n);cc.tween(t.node).then(i).start()})},o([l],e.prototype,"transitionTime",void 0),o([s],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../StaticInstance":"StaticInstance"}],Utils:[function(t,e,n){"use strict";cc._RF.push(e,"1ccc3Pa3fdGUJUnDiya6JDg","Utils"),Object.defineProperty(n,"__esModule",{value:!0}),n.toXY=n.getXYFromPos=n.getAngle=n.getDistance=n.formatSeconds=n.sort=n.shuffle=n.random=void 0,n.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},n.shuffle=function(t){for(var e,n,i=t.length;i;)n=t[e=Math.floor(Math.random()*i--)],t[e]=t[i],t[i]=n;return t},n.sort=function(t,e,n){if(void 0===n&&(n=!0),t instanceof Array)return t.sort(function(t,i){return t[e]>i[e]?n?1:-1:t[e]<i[e]?n?-1:1:0})},n.formatSeconds=function(t,e){void 0===e&&(e="h:i:s"),t=Number(t);var n={};return n.h=Number.parseInt(String(t/3600)),n.i=Number.parseInt(String((t-3600*n.h)/60)),n.s=Number.parseInt(String(t-3600*n.h-60*n.i)),n.h<10&&(n.h="0"+n.h),n.i<10&&(n.i="0"+n.i),n.s<10&&(n.s="0"+n.s),e.replace("h",n.h).replace("i",n.i).replace("s",n.s)},n.getDistance=function(t,e){var n=cc.v2(t.x-e.x,t.y-e.y);return Math.sqrt(n.x*n.x+n.y*n.y)},n.getAngle=function(t,e){var n=e.x-t.x,i=e.y-t.y;return-cc.v2(n,i).signAngle(cc.v2(1,0))/Math.PI*180},n.getXYFromPos=function(t,e,n,i){return{x:Math.floor(t/n),y:Math.floor(e/i)}},n.toXY=function(t,e){var n=t.convertToWorldSpaceAR(cc.v2(0,0));return e.convertToNodeSpaceAR(n)},cc._RF.pop()},{}],WinLayer:[function(t,e,n){"use strict";cc._RF.push(e,"5f67aat/5ZDsJnn0mQ3kKKH","WinLayer");var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var a,o=arguments.length,c=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(c=(o<3?a(c):o>3?a(e,n,c):a(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Enum"),r=t("./../StaticInstance"),s=t("../manager/AudioManager"),l=t("../manager/SdkManager"),u=t("../manager/ToastManager"),h=t("../manager/DataManager"),d=t("./HeaderLayer"),f=cc._decorator,p=f.ccclass,g=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.panel=null,e.btnNext=null,e.btnShare=null,e.btnClose=null,e}return a(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.panel=cc.find("style/panel",this.node),this.btnNext=cc.find("buttons/btn_next",this.panel),this.btnShare=cc.find("buttons/btn_share",this.panel),this.btnNext.on("click",this.onNextClick,this),this.btnShare.on("click",this.onShareClick,this),this.btnClose=cc.find("btn_close",this.panel),this.btnClose.on("click",this.onCloseClick,this)},e.prototype.onDestroy=function(){this.btnNext.off("click",this.onNextClick,this),this.btnShare.off("click",this.onShareClick,this),this.btnClose.off("click",this.onCloseClick,this)},e.prototype.onEnable=function(){this.zoomIn(this.panel),l.default.instance.toggleBannerAd(!0),r.StaticInstance.uiManager.setMainTimer(!1),this.rendorKeys(),this.rendorPower(),this.rendorPowerTimer()},e.prototype.onDisable=function(){l.default.instance.toggleBannerAd(!1)},e.prototype.onNextClick=function(){s.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),h.default.instance.power<=0?u.default.instance.show("\u80fd\u91cf\u5df2\u7528\u5b8c, \u8bf7\u5148\u8865\u5145\u80fd\u91cf",{gravity:"TOP",bg_color:cc.color(226,69,109,255)}):(h.default.instance.power-=1,h.default.instance.save(),r.StaticInstance.transitionsManager.play(c.ENUM_UI_TYPE.WIN,null,function(){r.StaticInstance.gameManager.onGameLevelStart()}))},e.prototype.onShareClick=function(){s.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),l.default.instance.getPlatform()?l.default.instance.activeShare():u.default.instance.show("\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0",{gravity:"TOP",bg_color:cc.color(226,69,109,255)})},e.prototype.onCloseClick=function(){s.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),r.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.MAIN_LEVEL,!1),r.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.WIN,!1),r.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.MENU)},o([p],e)}(d.default));n.default=g,cc._RF.pop()},{"../Enum":"Enum","../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","../manager/SdkManager":"SdkManager","../manager/ToastManager":"ToastManager","./../StaticInstance":"StaticInstance","./HeaderLayer":"HeaderLayer"}]},{},["Enum","Index","StaticInstance","Utils","Board","Car","CarSingle","Baselayer","ExitLayer","ExitLevelLayer","HeaderLayer","LoadingLayer","LoseLayer","MainLayer","MainLevelLayer","MenuLayer","MoreLayer","OverLayer","RankLayer","SettingLayer","SkillSubmitLayer","WinLayer","AudioManager","DataManager","EffectManager","EventManager","GameManager","PoolManager","ResourceManager","SdkManager","ToastManager","UIManager","UIScrollControl","UITransitionControl"]);